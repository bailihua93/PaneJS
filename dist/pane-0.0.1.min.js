!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.pane=t():e.pane=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.shapes=t.Paper=t.Model=t.ChildChange=t.RootChange=t.Change=t.NodeView=t.LinkView=t.CellView=t.Node=t.Link=t.Cell=t.Events=t.VElement=t.vector=t.utils=void 0;var o=n(1);Object.defineProperty(t,"VElement",{enumerable:!0,get:function(){return o.VElement}});var a=n(2),u=i(a),l=r(o),f=n(14),s=r(f),c=n(15),d=r(c),p=n(16),v=r(p),h=n(17),y=r(h),g=n(18),m=r(g),b=n(20),x=r(b),w=n(21),k=r(w),O=n(23),P=r(O),C=n(24),_=r(C),E=n(25),j=r(E),T=n(26),M=r(T),S=n(28),F=r(S),N=n(30),A=r(N),L=n(31),R=r(L),V=n(32),I=r(V),D=n(33),$=r(D),z=n(34),G=r(z),U=n(35),B=r(U),W=n(36),H=r(W),Y=n(37),q=r(Y),X=n(38),Z=r(X),Q=n(39),K=r(Q),J=n(40),ee=r(J);n(41),t.utils=u,t.vector=l["default"],t.Events=s["default"],t.Cell=d["default"],t.Link=v["default"],t.Node=y["default"],t.CellView=m["default"],t.LinkView=x["default"],t.NodeView=k["default"],t.Change=P["default"],t.RootChange=_["default"],t.ChildChange=j["default"],t.Model=M["default"],t.Paper=F["default"];var te={basic:{Generic:A["default"],Text:R["default"],Rect:I["default"],Circle:$["default"],Ellipse:G["default"],Image:B["default"],Path:H["default"],Polygon:q["default"],Polyline:Z["default"],Rhombus:K["default"]},port:{Rect:ee["default"]}};t.shapes=te},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e;do d+=1,e="pane-path-"+d;while(document.getElementById(e));return e}function o(e){return new p(e)}function a(e){return e instanceof p?e.node:e}function u(e,t,n){if(!e)return null;if((0,f.isObject)(e))return o(e);if("svg"===e.toLowerCase())return o((0,f.createSvgDocument)());if("<"===e[0]){var r=(0,f.createSvgDocument)(e);return r.childNodes.length>1?(0,f.map)(r.childNodes,function(e){return o(document.importNode(e,!0))}):o(document.importNode(r.firstChild,!0))}return e=(0,f.createSvgElement)(e),t&&(0,f.forIn)(t,function(t,n){(0,f.setAttribute)(e,n,t)}),n&&(n=(0,f.isArray)(n)?n:[n],(0,f.forEach)(n,function(t){e.appendChild(t instanceof p?t.node:t)})),o(e)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VElement=void 0;var f=n(2),s=/[\t\r\n\f]/g,c=/\S+/g,d=0,p=t.VElement=function(){function e(t){r(this,e),t instanceof e&&(t=t.node),this.node=t}return l(e,[{key:"attr",value:function(e,t){var n=this,r=n.node,i=arguments.length;if(!i){var o={};return(0,f.forEach)(r.attributes,function(e){o[e.nodeName]=e.nodeValue}),o}if(1===i){if(!(0,f.isObject)(e))return r.getAttribute(e);(0,f.forIn)(e,function(e,t){(0,f.setAttribute)(r,t,e)})}else(0,f.setAttribute)(r,e,t);return n}},{key:"removeAttr",value:function(e){var t=this,n=t.node;return n&&e&&n.removeAttribute(e),t}},{key:"css",value:function(e){}},{key:"text",value:function(e,t){var n=this,r=n.node;e=(0,f.sanitizeText)(e),t=t||{};var o=n.attr("y");o||n.attr("y","0.8em"),n.attr("display",e?null:"none"),r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.textContent="";var a=t.textPath;if(a){var l=n.find("defs");l.length||(l=u("defs"),n.append(l));var s,c=(0,f.isObject)(a),d=c?a.d:a;d&&(s=u("path",{d:d,id:i()}),l.append(s));var p=u("textPath");c&&(!a["xlink:href"]&&s&&p.attr("xlink:href","#"+s.node.id),p.attr(a)),n.append(p),r=p.node}var h=0,y=e.split("\n"),g=t.lineHeight,m=t.annotations,b=t.includeAnnotationIndices;return m&&(m=(0,f.isArray)(m)?m:[m]),g="auto"===g?"1.5em":g||"1em",(0,f.forEach)(y,function(e,i){var o=u("tspan",{dy:i?g:"0",x:n.attr("x")||0});if(o.addClass("pane-text-line"),e)if(m){var a=0,l=v.annotateString(e,m,{offset:-h,includeAnnotationIndices:b});(0,f.forEach)(l,function(e){if((0,f.isObject)(e)){var t=(0,f.toInt)(e.attrs["font-size"]);t&&t>a&&(a=t);var n=u("tspan",e.attrs);b&&n.attr("annotations",e.annotations),e.attrs["class"]&&n.addClass(e.attrs["class"]),n.node.textContent=e.t}else n=document.createTextNode(e||" ");o.append(n)}),"auto"===t.lineHeight&&a&&0!==i&&o.attr("dy",1.2*a+"px")}else o.node.textContent=e;else o.addClass("pane-text-empty"),o.node.style.opacity=0,o.node.textContent="-";r.appendChild(o.node),h+=e.length+1}),n}},{key:"hasClass",value:function(e){var t=this,n=t.node,r=" "+e+" ";return 1===n.nodeType?(" "+(0,f.getClassName)(n)+" ").replace(s," ").indexOf(r)>-1:!1}},{key:"addClass",value:function(e){var t=this,n=t.node;if((0,f.isFunction)(e))return t.addClass(e.call(n,(0,f.getClassName)(n)));if(e&&(0,f.isString)(e)&&1===n.nodeType){var r=e.match(c)||[],i=(" "+(0,f.getClassName)(n)+" ").replace(s," "),o=(0,f.reduce)(r,function(e,t){return e.indexOf(" "+t+" ")<0&&(e+=t+" "),e},i);o=(0,f.trim)(o),i!==o&&n.setAttribute("class",o)}return t}},{key:"removeClass",value:function(e){var t=this,n=t.node;if((0,f.isFunction)(e))return t.removeClass(e.call(n,(0,f.getClassName)(n)));if((!e||(0,f.isString)(e))&&1===n.nodeType){var r=(e||"").match(c)||[],i=(" "+(0,f.getClassName)(n)+" ").replace(s," "),o=(0,f.reduce)(r,function(e,t){return e.indexOf(" "+t+" ")>-1&&(e=e.replace(" "+t+" "," ")),e},i);o=e?(0,f.trim)(o):"",i!==o&&n.setAttribute("class",o)}return t}},{key:"toggleClass",value:function(e,t){var n=this,r=n.node;if((0,f.isBoolean)(t)&&(0,f.isString)(e))return t?n.addClass(e):n.removeClass(e);if((0,f.isFunction)(e))return n.toggleClass(e.call(r,(0,f.getClassName)(r),t),t);if(e&&(0,f.isString)(e)){var i=e.match(c)||[];(0,f.forEach)(i,function(e){n.hasClass(e)?n.removeClass(e):n.addClass(e)})}return n}},{key:"remove",value:function(){var e=this,t=e.node;return t&&t.parentNode&&t.parentNode.removeChild(t),e}},{key:"empty",value:function(){var e=this,t=e.node;if(t)for(;t.lastChild;)t.removeChild(t.lastChild);return e}},{key:"append",value:function(e){var t=this;return e&&(0,f.forEach)((0,f.toArray)(e),function(e){t.node.appendChild(a(e))}),t}},{key:"prepend",value:function(e){var t=this,n=t.node;return e&&n.insertBefore(a(e),n.firstChild),t}},{key:"appendTo",value:function(e){}},{key:"prependTo",value:function(e){}},{key:"before",value:function(e){}},{key:"after",value:function(e){}},{key:"getSVG",value:function(){var e=this,t=e.node;return t instanceof window.SVGSVGElement?e:o(t.ownerSVGElement)}},{key:"getDefs",value:function(){var e=null,t=this.getSVG();return(0,f.some)(t.node.childNodes,function(t){return(0,f.isNode)(t,"defs")?(e=o(t),!0):void 0}),e||(e=u("defs"),t.append(e)),e}},{key:"clone",value:function(){var e=this.node,t=o(e.cloneNode(!0));return e.id&&t.node.removeAttribute("id"),t}},{key:"find",value:function(e){return(0,f.map)(this.node.querySelectorAll(e),o)}},{key:"findOne",value:function(e){var t=this.node.querySelector(e);return t?o(t):null}},{key:"findParent",value:function(e,t){var n=this.node,r=t||n.ownerSVGElement;for(n=n.parentNode;n&&n!==r;){var i=o(n);if(i.hasClass(e))return i;n=n.parentNode}return null}},{key:"index",value:function t(){for(var t=0,e=this.node.previousSibling;e;)1===e.nodeType&&t++,e=e.previousSibling;return t}},{key:"translate",value:function n(e,t,r){var i=this,o=i.attr("transform")||"",n=(0,f.parseTranslate)(o);if(!arguments.length)return n;o=(0,f.trim)(o.replace(/translate\([^\)]*\)/g,""));var a=r?n.tx+e:e,u=r?n.ty+t:t,l="translate("+a+","+u+") "+o;return i.attr("transform",l),i}},{key:"rotate",value:function d(e,t,n,r){var i=that.attr("transform")||"",d=(0,f.parseRotate)(i);if(!arguments.length)return d;i=(0,f.trim)(i.replace(/rotate\([^\)]*\)/g,"")),e%=360;var o=r?d.angle+e:e,a=(0,f.isUndefined)(t)||(0,f.isUndefined)(n)?"":","+t+","+n,u="rotate("+o+a+")";return this.attr("transform",i+" "+u)}},{key:"scale",value:function p(e,t,n){var r=this.attr("transform")||"",p=(0,f.parseScale)(r),i=arguments.length;if(!i)return p;r=(0,f.trim)(r.replace(/scale\([^\)]*\)/g,"")),1===i?t=e:2===i&&(0,f.isBoolean)(t)&&(n=t,t=e),e=n?p.sx*e:e,t=n?p.sy*t:t;var o="scale("+e+","+t+")";return this.attr("transform",r+" "+o)}},{key:"bbox",value:function(e,t){var n=this,r=n.node;if(!r.ownerSVGElement)return{x:0,y:0,width:0,height:0};var i;try{i=r.getBBox(),i={x:i.x,y:i.y,width:i.width,height:i.height}}catch(o){i={x:r.clientLeft,y:r.clientTop,width:r.clientWidth,height:r.clientHeight}}if(e)return i;var a=r.getTransformToElement(t||r.ownerSVGElement);return v.transformRect(i,a)}},{key:"toLocalPoint",value:function(e,t){var n=this,r=n.getSVG().node,i=r.createSVGPoint();i.x=e,i.y=t;try{var o=i.matrixTransform(r.getScreenCTM().inverse()),a=n.node.getTransformToElement(r).inverse();return o.matrixTransform(a)}catch(u){return i}}},{key:"translateCenterToPoint",value:function(){}},{key:"translateAndAutoOrient",value:function(){}},{key:"animateAlongPath",value:function(){}},{key:"sample",value:function h(e){e=e||1;for(var h,t=this.node,n=t.getTotalLength(),r=0,i=[];n>r;)h=t.getPointAtLength(r),i.push({x:h.x,y:h.y,distance:r}),r+=e;return i}},{key:"toPath",value:function(){var e=this,t=o((0,f.createSvgElement)("path")),n=e.toPathData();return t.attr(e.attr()),n&&t.attr("d",n),t}},{key:"toPathData",value:function(){var e=this,t=e.node,n=t.tagName.toUpperCase();switch(n){case"PATH":return e.attr("d");case"LINE":return(0,f.lineToPathData)(t);case"POLYGON":return(0,f.polygonToPathData)(t);case"POLYLINE":return(0,f.polylineToPathData)(t);case"ELLIPSE":return(0,f.ellipseToPathData)(t);case"CIRCLE":return(0,f.circleToPathData)(t);case"RECT":return(0,f.rectToPathData)(t)}throw new Error(n+" cannot be converted to PATH.")}},{key:"findIntersection",value:function(e,t){var n=this,r=n.svg().node;t=t||r;var i=g.rect(this.bbox(!1,t)),o=i.getCenter(),a=i.intersectionWithLineFromCenterToPoint(e);if(a){var u=this.node.localName.toUpperCase();if("RECT"===u){var l=g.rect(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),f=this.node.getTransformToElement(t),s=V.decomposeMatrix(f),c=r.createSVGTransform();c.setRotate(-s.rotation,o.x,o.y);var d=V.transformRect(l,c.matrix.multiply(f));a=g.rect(d).intersectionWithLineFromCenterToPoint(e,s.rotation)}else if("PATH"===u||"POLYGON"===u||"POLYLINE"===u||"CIRCLE"===u||"ELLIPSE"===u){for(var p="PATH"===u?n:n.toPath(),v=p.sample(),h=1/0,y=[],m=0,b=v.length;b>m;m++){var x=v[m],w=V.createSVGPoint(x.x,x.y);w=w.matrixTransform(this.node.getTransformToElement(t)),x=g.point(w);var k=x.distance(o),O=1.1*x.distance(e),P=k+O;h>P?(h=P,y=[{sample:x,refDistance:O}]):h+1>P&&y.push({sample:x,refDistance:O})}y.sort(function(e,t){return e.refDistance-t.refDistance}),a=y[0].sample}return a}}}]),e}(),v=p.createElement=u,h=u("svg").node;v.isVElement=function(e){return e instanceof p},v.createSVGMatrix=function(e){var t=h.createSVGMatrix();for(var n in e)t[n]=e[n];return t},v.createSVGTransform=function(){return h.createSVGTransform()},v.createSVGPoint=function(e,t){var n=h.createSVGPoint();return n.x=e,n.y=t,n},v.transformRect=function(e,t){var n=h.createSVGPoint();n.x=e.x,n.y=e.y;var r=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y;var i=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y+e.height;var o=n.matrixTransform(t);n.x=e.x,n.y=e.y+e.height;var a=n.matrixTransform(t),u=Math.min(r.x,i.x,o.x,a.x),l=Math.max(r.x,i.x,o.x,a.x),f=Math.min(r.y,i.y,o.y,a.y),s=Math.max(r.y,i.y,o.y,a.y);return{x:u,y:f,width:l-u,height:s-f}},v.styleToObject=function(e){var t={};return(0,f.forEach)(e.split(";"),function(e){var n=e.split("=");t[(0,f.trim)(n[0])]=(0,f.trim)(n[1])}),t},t["default"]=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})};for(var o in r){i(o)}var a=n(4),u=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})};for(var l in a){u(l)}var f=n(5),s=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})};for(var c in f){s(c)}var d=n(7),p=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})};for(var v in d){p(v)}var h=n(6),y=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})};for(var g in h){y(g)}var m=n(8),b=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})};for(var x in m){b(x)}var w=n(9),k=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}})};for(var O in w){k(O)}var P=n(10),C=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}})};for(var _ in P){C(_)}var E=n(11),j=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}})};for(var T in E){j(T)}var M=n(12),S=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return M[e]}})};for(var F in M){S(F)}var N=n(13),A=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return N[e]}})};for(var L in N){A(L)}t["default"]={}},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e){return null===e}function i(e){return"undefined"==typeof e}function o(e){return"string"==typeof e}function a(e){return"boolean"==typeof e}function u(e){return i(e)||r(e)}function l(e,t){return m.call(e)==="[object "+t+"]"}function f(e){if(!e)return!1;var t="undefined"==typeof e?"undefined":n(e);return"function"===t||"object"===t}function s(e){return l(e,"Function")}function c(e){return Array.isArray(e)}function d(e){if(c(e))return!0;if(s(e)||v(e))return!1;var t=!!e&&"length"in e&&e.length;return 0===t||"number"==typeof t&&t>0&&t-1 in e}function p(e){return!c(e)&&e-parseFloat(e)+1>=0}function v(e){return e&&e===e.window}function h(e){return!f(e)||e.nodeType||v(e)?!1:e.constructor&&!b.call(e.constructor.prototype,"isPrototypeOf")?!1:!0}function y(e){var t;for(t in e)return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var g=Object.prototype,m=g.toString,b=g.hasOwnProperty;t.isNull=r,t.isType=l,t.isArray=c,t.isWindow=v,t.isObject=f,t.isString=o,t.isBoolean=a,t.isNumeric=p,t.isFunction=s,t.isArrayLike=d,t.isUndefined=i,t.isPlainObject=h,t.isEmptyObject=y,t.isNullOrUndefined=u},function(e,t,n){"use strict";function r(e){return(0,v.isArray)(e)?e:(0,v.isArrayLike)(e)?h.slice.call(e):[e]}function i(e,t){return e?h.indexOf.call(e,t):-1}function o(e,t){return e?h.lastIndexOf.call(e,t):-1}function a(e,t,n){return e?h.every.call(e,t,n):!1}function u(e,t,n){return e?h.some.call(e,t,n):!1}function l(e,t,n){e&&h.forEach.call(e,t,n)}function f(e,t,n){return e?h.map.call(e,t,n):[]}function s(e,t,n){return e?h.filter.call(e,t,n):[]}function c(e,t,n){return e?h.reduce.call(e,t,n):n}function d(e,t,n){return e?h.reduceRight.call(e,t,n):n}function p(e,t){return e&&i(e,t)>=0}Object.defineProperty(t,"__esModule",{value:!0}),t.contains=t.lastIndexOf=t.reduceRight=t.indexOf=t.toArray=t.forEach=t.reduce=t.filter=t.every=t.some=t.map=void 0;var v=n(3),h=Array.prototype;t.map=f,t.some=u,t.every=a,t.filter=s,t.reduce=c,t.forEach=l,t.toArray=r,t.indexOf=i,t.reduceRight=d,t.lastIndexOf=o,t.contains=p},function(e,t,n){"use strict";function r(e){return""+e}function i(e){return(""+e).toUpperCase()}function o(e){return(""+e).toLowerCase()}function a(e){return e?d.trim.call(""+e):""}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function l(e){var t=0,n=e.length;if(0===n)return t;for(var r=0;n>r;r++){var i=e.charCodeAt(r);t=(t<<5)-t+i,t&=t}return t}function f(e,t){return t=t||{},(""+e).replace(/\$\{(\w+)\}/g,function(e,n){var r=(0,c.getByPath)(t,n);return void 0!==r?r:e})}function s(e){return(e||"").replace(/ /g,"\xa0")}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeText=t.toString=t.hashCode=t.format=t.uuid=t.trim=t.uc=t.lc=void 0;var c=n(6),d=String.prototype;t.lc=o,t.uc=i,t.trim=a,t.uuid=u,t.format=f,t.hashCode=l,t.toString=r,t.sanitizeText=s},function(e,t,n){"use strict";function r(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}function i(e){return e?Object.keys(e):[]}function o(e,t,n){(0,s.forEach)(i(e),function(r){t.call(n,e[r],r)})}function a(e){e||(e={});for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r)e[i]=r[i]}return e}function u(e){e||(e={});for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r){var o=e[i],a=r[i],l=(0,c.isArray)(a);if(l||(0,c.isPlainObject)(a)){var f;f=l?o&&(0,c.isArray)(o)?o:[]:o&&(0,c.isPlainObject)(o)?o:{},e[i]=u(f,a)}else e[i]=a}}return e}function l(e,t,n){n=n||".";for(var r=t.split(n);r.length;){var i=r.shift();if(!(Object(e)===e&&i in e))return;e=e[i]}return e}function f(e){if(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&(e.prototype=e.__proto__=null),e.destroyed=!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.getByPath=t.destroy=t.extend=t.merge=t.forIn=t.keys=t.hasKey=void 0;var s=n(4),c=n(3);t.hasKey=r,t.keys=i,t.forIn=o,t.merge=u,t.extend=a,t.destroy=f,t.getByPath=l},function(e,t,n){"use strict";function r(e){return window.isFinite(e)&&!window.isNaN(parseFloat(e))}function i(e){return(0,f.isString)(e)&&"%"===e.slice(-1)}function o(e){return parseInt(e,10)}function a(e,t){var n=parseFloat(e);return t?n/100:n}function u(e,t){var n=Math.pow(10,t);return a((Math.round(e*n)/n).toFixed(t))}function l(e,t,n){var r=a(e,t);return isNaN(r)?n:r}Object.defineProperty(t,"__esModule",{value:!0}),t.fixNumber=t.isPercentage=t.isFinite=t.toFixed=t.toFloat=t.toInt=void 0;var f=n(3);t.toInt=o,t.toFloat=a,t.toFixed=u,t.isFinite=r,t.isPercentage=i,t.fixNumber=l},function(e,t,n){"use strict";function r(e,t,n){if(e&&(0,o.isFunction)(e)){var r,i=t[0],a=t[1],u=t[2];switch(t.length){case 0:r=e.call(n);break;case 1:r=e.call(n,i);break;case 2:r=e.call(n,i,a);break;case 3:r=e.call(n,i,a,u);break;default:r=e.apply(n,t)}return r}}function i(e,t){return(0,o.isFunction)(e)?Function.prototype.bind.apply(arguments):e}Object.defineProperty(t,"__esModule",{value:!0}),t.invoke=t.bind=void 0;var o=n(3);t.bind=i,t.invoke=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=e&&!isNaN(e.nodeType);return i&&(i=(0,d.isNullOrUndefined)(t)||a(e)===t.toLowerCase()),i&&(i=(0,d.isNullOrUndefined)(n)||e.getAttribute(n)===r),i}function i(e){return(0,d.isWindow)(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}function o(e){var t={top:0,left:0},n=e&&e.ownerDocument;if(!n)return t;var r=n.documentElement;if(!v(r,e))return t;(0,d.isUndefined)(e.getBoundingClientRect)||(t=e.getBoundingClientRect());var o=i(n);return{top:t.top+(o.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(o.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function a(e){return e.nodeName?e.nodeName.toLowerCase():""}function u(e){return e.getAttribute&&e.getAttribute("class")||""}function l(e,t){var n;try{var r=new DOMParser;(0,d.isUndefined)(t)||(r.async=t),n=r.parseFromString(e,"text/xml")}catch(i){n=null}if(!n||n.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return n}function f(e){var t='<svg xmlns="'+h.xmlns+'" xmlns:xlink="'+h.xmlns+'" version="'+y+'">'+(e||"")+"</svg>",n=l(t,!1);return n.documentElement}function s(e,t){return(t||document).createElementNS(h.xmlns,e)}function c(e,t,n){if("id"===t)e.id=n;else{var r=t.split(":");r.length>1?e.setAttributeNS(h[r[0]],r[1],n):e.setAttribute(t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.containsElem=t.createSvgDocument=t.createSvgElement=t.setAttribute=t.getClassName=t.getNodeName=t.getOffset=t.getWindow=t.isNode=void 0;var d=n(3),p=document.documentElement,v=p.compareDocumentPosition||p.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},h={xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},y="1.1";t.isNode=r,t.getWindow=i,t.getOffset=o,t.getNodeName=a,t.getClassName=u,t.setAttribute=c,t.createSvgElement=s,t.createSvgDocument=f,t.containsElem=v},function(e,t){"use strict";function n(e){return 180*e/u%360}function r(e,t){return e=t?e:e%360,e*u/180}function i(e,t){return t*l(e/t)}function o(e){return e%360+(0>e?360:0)}Object.defineProperty(t,"__esModule",{value:!0});var a=Math,u=a.PI,l=a.round;t.toDeg=n,t.toRad=r,t.snapToGrid=i,t.normalizeAngle=o},function(e,t,n){"use strict";function r(e){return e.preventDefault=r.preventDefault,e.stopPropagation=r.stopPropagation,e}function i(e){var t=!0,n=this;e=e||r((p.parentWindow||d).event);var i=n.events[e.type];for(var o in i)n.$$handleEvent=i[o],n.$$handleEvent(e)===!1&&(t=!1);return t}function o(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{n.$$guid||(n.$$guid=++o.guid),e.events||(e.events={});var r="on"+t,a=e.events[t];a||(a=e.events[t]={},e[r]&&(a[0]=e[r])),a[n.$$guid]=n,e[r]=i}}function a(e,t,n){for(;t&&t!==e;){if(v(t,n))return t;t=t.parentElement}return null}function u(e,t,n,r,i){function u(o){(o.delegateTarget=a(e,o.target,n))&&(i===!0&&l(e,t,u),r.call(e,o))}return(0,s.isFunction)(n)?o(e,t,n):(r._delegateWrapper=u,o(e,t,u),r)}function l(e,t,n){var r=n._delegateWrapper;e.removeEventListener?(e.removeEventListener(t,n,!1),r&&e.removeEventListener(t,r,!1)):e.events&&e.events[t]&&(delete e.events[t][n.$$guid],r&&delete e.events[t][r.$$guid])}function f(e){var t=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];if(t){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.addEventListener=t.normalizeEvent=void 0;var s=n(3),c=n(4),d=window,p=document,v=function(){var e=p.createElement("div"),t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,n=t&&t.call(e,"div");return function(e,r){if(n)return t.call(e,r);var i=e.parentNode;i||n||(i=p.createDocumentFragment(),i.appendChild(e));var o=i.querySelectorAll(r);return(0,c.some)(o,function(t){return t===e})}}();r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0},o.guid=0,t.normalizeEvent=f,t.addEventListener=u,t.removeEventListener=l},function(e,t,n){"use strict";function r(e){return["M",e.getAttribute("x1"),e.getAttribute("y1"),"L",e.getAttribute("x2"),e.getAttribute("y2")].join(" ")}function i(e){var t=[];return(0,f.forEach)(e.points,function(e,n){t.push(0===n?"M":"L",e.x,e.y)}),t.push("Z"),t.join(" ")}function o(e){var t=[];return(0,f.forEach)(e.points,function(e,n){t.push(0===n?"M":"L",e.x,e.y)}),t.join(" ")}function a(e){var t,n=parseFloat(e.getAttribute("x"))||0,r=parseFloat(e.getAttribute("y"))||0,i=parseFloat(e.getAttribute("width"))||0,o=parseFloat(e.getAttribute("height"))||0,a=parseFloat(e.getAttribute("rx"))||0,u=parseFloat(e.getAttribute("ry"))||0,l=n+i,f=r+o;return t=a||u?["M",n+a,r,"L",l-a,r,"Q",l,r,l,r+u,"L",l,r+o-u,"Q",l,f,l-a,f,"L",n+a,f,"Q",n,f,n,f-a,"L",n,r+u,"Q",n,r,n+a,r,"Z"]:["M",n,r,"H",l,"V",f,"H",n,"V",r,"Z"],t.join(" ")}function u(e){var t=parseFloat(e.getAttribute("cx"))||0,n=parseFloat(e.getAttribute("cy"))||0,r=parseFloat(e.getAttribute("r")),i=r*s;return["M",t,n-r,"C",t+i,n-r,t+r,n-i,t+r,n,"C",t+r,n+i,t+i,n+r,t,n+r,"C",t-i,n+r,t-r,n+i,t-r,n,"C",t-r,n-i,t-i,n-r,t,n-r,"Z"].join(" ")}function l(e){var t=parseFloat(e.getAttribute("cx"))||0,n=parseFloat(e.getAttribute("cy"))||0,r=parseFloat(e.getAttribute("rx")),i=parseFloat(e.getAttribute("ry"))||r,o=r*s,a=i*s;return["M",t,n-i,"C",t+o,n-i,t+r,n-a,t+r,n,"C",t+r,n+a,t+o,n+i,t,n+i,"C",t-o,n+i,t-r,n+a,t-r,n,"C",t-r,n-a,t-o,n-i,t,n-i,"Z"].join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.polylineToPathData=t.polygonToPathData=t.ellipseToPathData=t.circleToPathData=t.rectToPathData=t.lineToPathData=void 0;var f=n(4),s=.5522847498307935;t.lineToPathData=r,t.rectToPathData=a,t.circleToPathData=u,t.ellipseToPathData=l,t.polygonToPathData=i,t.polylineToPathData=o},function(e,t,n){"use strict";function r(e){var t={tx:0,ty:0};if(e){var n=/[ ,]+/,r=e.match(/translate\((.*)\)/);if(r){var i=r[1].split(n);i[0]&&(t.tx+=(0,c.toFloat)(i[0])),i[1]&&(t.ty+=(0,c.toFloat)(i[1]))}}return t}function i(e){var t={sx:1,sy:1};if(e){var n=/[ ,]+/,r=e.match(/scale\((.*)\)/);if(r){var i=r[1].split(n);i[0]&&(t.sx*=(0,c.toFloat)(i[0])),(i[1]||i[0])&&(t.sy*=(0,c.toFloat)(i[1]||i[0]))}}return t}function o(e){var t={angle:0};if(e){var n=/[ ,]+/,r=e.match(/rotate\((.*)\)/);if(r){var i=r[1].split(n);i[0]&&(t.angle+=(0,c.toFloat)(i[0])),i[1]&&i[2]&&(t.cx=(0,c.toFloat)(i[1]),t.cy=(0,c.toFloat)(i[2]))}}return t}function a(e){return{translate:r(e),rotate:o(e),scale:i(e)}}function u(e){return e&&(0,s.trim)(e.replace(/translate\([^)]*\)/g,""))||""}function l(e){return e&&(0,s.trim)(e.replace(/scale\([^)]*\)/g,""))||""}function f(e){return e&&(0,s.trim)(e.replace(/rotate\([^)]*\)/g,""))||""}Object.defineProperty(t,"__esModule",{value:!0}),t.clearTranslate=t.clearRotate=t.clearScale=t.parseTranslate=t.parseTransform=t.parseRotate=t.parseScale=void 0;var s=n(5),c=n(7);t.parseScale=i,t.parseRotate=o,t.parseTransform=a,t.parseTranslate=r,t.clearScale=l,t.clearRotate=f,t.clearTranslate=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){for(var r=!0,i=0,o=e.length;o>i;i+=2)r=l.invoke(e[i],t,e[i+1]||n)&&r;return r}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),l=r(u),f=/\s+/,s=function(){function e(){i(this,e)}return a(e,[{key:"on",value:function(e,t,n){var r=this;if(!t)return r;var i=r.__events||(r.__events={});return e=e.split(f),l.forEach(e,function(e){var r=i[e]||(i[e]=[]);r.push(t,n)}),r}},{key:"once",value:function(e,t,n){var r=this,i=function o(){r.off(e,o),t.apply(n||r,arguments)};return r.on(e,i,n)}},{key:"off",value:function(e,t,n){var r=this,i=r.__events;return i?e||t||n?(e=e?e.split(f):l.keys(i),l.forEach(e,function(e){var r=i[e];if(r){if(!t&&!n)return void delete i[e];for(var o=r.length-2;o>=0;o-=2)t&&r[o]!==t||n&&r[o+1]!==n||r.splice(o,2)}}),r):(delete r.__events,r):r}},{key:"trigger",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];var i=this,a=i.__events;if(!a||!e)return null;var u=!0,s=a["*"];return l.forEach(e.split(f),function(e){var t=void 0;"*"!==e&&(t=a[e],t&&o(t,n,i)),s&&o(s,[e].concat(n),i)}),u}}]),e}();t["default"]=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),u=r(a),l=function(){function e(){i(this,e)}return o(e,[{key:"getTerminal",value:function(e){return e?this.source:this.target}},{key:"setTerminal",value:function(e,t){var n=this;return t?n.source=e:n.target=e,n}},{key:"removeFromTerminal",value:function(e){var t=this,n=t.getTerminal(e);return n&&n.removeLink(t,e),t}},{key:"getChildCount",value:function(){return this.children?this.children.length:0}},{key:"indexOfChild",value:function(e){return u.indexOf(this.children,e)}},{key:"getChildAt",value:function(e){return this.children?this.children[e]:null}},{key:"eachChild",value:function(e,t){return u.forEach(this.children,e,t)}},{key:"filterChild",value:function(e,t){return u.filter(this.children,e,t)}},{key:"insertChild",value:function(e,t){var n=this;if(e){u.isNullOrUndefined(t)&&(t=n.getChildCount(),e.parent===n&&t--),e.removeFromParent(),e.parent=n;var r=n.children;r?r.splice(t,0,e):(r=n.children=[],r.push(e))}return n}},{key:"removeChild",value:function(e){return this.removeChildAt(this.indexOfChild(e))}},{key:"removeChildAt",value:function(e){var t=this,n=null,r=t.children;return r&&e>=0&&(n=t.getChildAt(e),n&&(r.splice(e,1),n.parent=null)),n}},{key:"getLinkCount",value:function(){return this.links?this.links.length:0}},{key:"indexOfLink",value:function(e){return u.indexOf(this.links,e)}},{key:"getLinkAt",value:function(e){return this.links?this.links[e]:null}},{key:"eachLink",value:function(e,t){return u.forEach(this.links,e,t)}},{key:"filterLink",value:function(e,t){return u.filter(this.links,e,t)}},{key:"addLink",value:function(e,t){var n=this,r=n.links;return e&&(e.removeFromTerminal(t),e.setTerminal(n,t),(!r||n.indexOfLink(e)<0||e.getTerminal(!t)!==n)&&(r||(r=n.links=[]),r.push(e))),n}},{key:"removeLink",value:function(e,t){var n=this,r=n.links;if(e){if(r&&e.getTerminal(!t)!==n){var i=n.indexOfLink(e);i>=0&&r.splice(i,1)}e.setTerminal(null,t)}return e}},{key:"getParent",value:function(){return this.parent}},{key:"removeFromParent",value:function(){var e=this,t=e.parent;return t&&t.removeChild(e),e}},{key:"valueOf",value:function(){}},{key:"toString",value:function(){}},{key:"cloneData",value:function(){var e=this.data;if(e){if(e.clone&&u.isFunction(e.clone))return e.clone();if(u.isNode(e))return e.cloneNode(!0);if(u.isObject(e))return u.merge({},e)}return e}},{key:"clone",value:function(t){var n=this,r=u.merge({},n.metadata);return r.data=t===!0?n.cloneData():n.data,r.visible=n.visible,new e(r)}},{key:"destroy",value:function(){}}],[{key:"configure",value:function(e){var t=this;e&&u.forIn(e,function(e,n){t[n]="defaults"===n?u.merge({},t.defaults,e):e})}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(15),f=r(l),s=function(e){
function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"isLink",get:function(){return!0}}]),t}(f["default"]);t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),f=n(15),s=r(f),c=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this)),r=n,a=(0,l.merge)({},r.constructor.defaults,e);return r.data=a.data,r.attrs=a.attrs,r.visible=a.visible!==!1,r.metadata=a,n}return a(t,e),u(t,[{key:"isNode",get:function(){return!0}},{key:"markup",get:function(){return this.constructor.markup}},{key:"className",get:function(){var e=this.metadata.classNames;return(0,l.isArray)(e)?e.join(" "):e||""}}]),u(t,[{key:"translate",value:function(){}},{key:"resize",value:function(e,t){}},{key:"rotate",value:function(){}},{key:"getBBox",value:function(){return!1}}]),t}(s["default"]);c.defaults={classNames:["pane-node"],view:null,size:{width:1,height:1,relative:!1},position:{x:0,y:0,relative:!1},rotation:{angle:0,inherited:!0},attrs:{}},t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),l=(i(u),n(14)),f=(r(l),n(1)),s=r(f),c=n(19),d=r(c),p=function(){function e(t,n){o(this,e);var r=this;r.cell=n,r.paper=t,r.invalid=!0,r.ensureElement()}return a(e,[{key:"ensureElement",value:function(){var e=this,t=e.cell,n=(0,s["default"])("g",{"class":t.className});return e.vel=n,e.elem=n.node,e.elem.cellId=t.id,e.paper.drawPane.appendChild(e.elem),e}},{key:"render",value:function(){return this}},{key:"update",value:function(){return this}},{key:"find",value:function(e){return"."===e?[this.vel]:this.vel.find(e)}},{key:"applyFilter",value:function(e,t){var n=this;t=t||{};var r=t.name||"",i=t.args||{},o=t.attrs,a=d["default"][r];if(!r||!a)throw new Error("Non-existing filter: "+r);var l=(0,u.isString)(e)?n.find(e):e;if(!l.length)return n;var f=n.paper,c=f.svg,p=r+"-"+f.id+"-"+(0,u.hashCode)(JSON.stringify(t));if(!c.getElementById(p)){var v=(0,s["default"])(a(i));v.attr({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3}),o&&v.attr(o),v.node.id=p,(0,s["default"])(c).getDefs().append(v)}return(0,u.forEach)(l,function(e){e.attr(t,"url(#"+p+")")}),n}},{key:"applyGradient",value:function(e,t,n){var r=this;n=n||{};var i=n.type,o=n.stops,a=n.attrs;if(!(t&&i&&o&&o.length))return r;var l=(0,u.isString)(e)?r.find(e):e;if(!l.length)return r;var f=r.paper,c=f.svg,d=i+"-"+f.id+"-"+(0,u.hashCode)(JSON.stringify(n));if(!c.getElementById(d)){var p=["<"+i+">",(0,u.map)(o,function(e){return'<stop offset="'+e.offset+'" stop-color="'+e.color+'" stop-opacity="'+((0,u.isFinite)(e.opacity)?e.opacity:1)+'" />'}).join(""),"</"+i+">"].join(""),v=(0,s["default"])(p);a&&v.attr(a),v.node.id=d,(0,s["default"])(c).getDefs().append(v)}return(0,u.forEach)(l,function(e){e.attr(t,"url(#"+d+")")}),r}},{key:"onContextMenu",value:function(){}},{key:"onDblClick",value:function(){}},{key:"onClick",value:function(){}},{key:"onPointerDown",value:function(){}},{key:"onPointerMove",value:function(){}},{key:"onPointerUp",value:function(){}},{key:"onMouseOver",value:function(){}},{key:"onMouseOut",value:function(){}},{key:"destroy",value:function(){var e=this,t=e.elem;t&&t.parentNode&&t.parentNode.removeChild(t)}}]),e}();t["default"]=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t["default"]={outline:function(e){var t='<filter>  <feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/>  <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" />  <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" />  <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>  <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>  <feMerge>    <feMergeNode in="outline"/>    <feMergeNode in="SourceGraphic"/>  </feMerge></filter>',n=(0,r.isFinite)(e.margin)?e.margin:2,i=(0,r.isFinite)(e.width)?e.width:1;return(0,r.format)(t)({color:e.color||"blue",opacity:(0,r.isFinite)(e.opacity)?e.opacity:1,outerRadius:n+i,innerRadius:n})},highlight:function(e){var t='<filter>  <feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/>  <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/>  <feComposite result="composed" in="colored" in2="morphed" operator="in"/>  <feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/>   <feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return(0,r.format)(t)({color:e.color||"red",width:(0,r.isFinite)(e.width)?e.width:1,blur:(0,r.isFinite)(e.blur)?e.blur:0,opacity:(0,r.isFinite)(e.opacity)?e.opacity:1})},blur:function(e){var t='<filter>  <feGaussianBlur stdDeviation="${stdDeviation}"/></filter>',n=(0,r.isFinite)(e.x)?e.x:2;return(0,r.format)(t)({stdDeviation:(0,r.isFinite)(e.y)?[n,e.y]:n})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return(0,r.format)(t)({dx:e.dx||0,dy:e.dy||0,opacity:(0,r.isFinite)(e.opacity)?e.opacity:1,color:e.color||"black",blur:(0,r.isFinite)(e.blur)?e.blur:4})},grayScale:function(e){var t='<filter>  <feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({a:.2126+.7874*(1-n),b:.7152-.7152*(1-n),c:.0722-.0722*(1-n),d:.2126-.2126*(1-n),e:.7152+.2848*(1-n),f:.0722-.0722*(1-n),g:.2126-.2126*(1-n),h:.0722+.9278*(1-n)})},sepia:function(e){var t='<filter>  <feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({a:.393+.607*(1-n),b:.769-.769*(1-n),c:.189-.189*(1-n),d:.349-.349*(1-n),e:.686+.314*(1-n),f:.168-.168*(1-n),g:.272-.272*(1-n),h:.534-.534*(1-n),i:.131+.869*(1-n)})},saturate:function(e){var t='<filter>  <feColorMatrix type="saturate" values="${amount}"/></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({amount:1-n})},hueRotate:function(e){var t='<filter>  <feColorMatrix type="hueRotate" values="${angle}"/></filter>';return(0,r.format)(t)({angle:e.angle||0})},invert:function(e){var t='<filter>  <feComponentTransfer>    <feFuncR type="table" tableValues="${amount} ${amount2}"/>    <feFuncG type="table" tableValues="${amount} ${amount2}"/>    <feFuncB type="table" tableValues="${amount} ${amount2}"/>  </feComponentTransfer></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({amount:n,amount2:1-n})},brightness:function(e){var t='<filter>  <feComponentTransfer>    <feFuncR type="linear" slope="${amount}"/>    <feFuncG type="linear" slope="${amount}"/>    <feFuncB type="linear" slope="${amount}"/>  </feComponentTransfer></filter>';return(0,r.format)(t)({amount:(0,r.isFinite)(e.amount)?e.amount:1})},contrast:function(e){var t='<filter>  <feComponentTransfer>    <feFuncR type="linear" slope="${amount}" intercept="${amount2}"/>    <feFuncG type="linear" slope="${amount}" intercept="${amount2}"/>    <feFuncB type="linear" slope="${amount}" intercept="${amount2}"/>  </feComponentTransfer></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({amount:n,amount2:.5-n/2})}}},function(e,t){"use strict"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),f=n(1),s=r(f),c=n(22),d=(r(c),n(18)),p=r(d),v=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"update",value:function(e){var n=this,r=n.cell,i=r.attrs,o=n.rotatableNode,a=void 0;o&&(a=o.attr("transform"),o.attr("transform",""));var u=[],f={};(0,l.forIn)(e||i,function(e,r){var i=n.find(r);if(i.length){f[r]=i;var o=t.specialAttributes.slice();(0,l.isObject)(e.filter)&&(o.push("filter"),n.applyFilter(i,e.filter)),(0,l.isObject)(e.fill)&&(o.push("fill"),n.applyGradient(i,"fill",e.fill)),(0,l.isObject)(e.stroke)&&(o.push("stroke"),n.applyGradient(i,"stroke",e.stroke)),(0,l.isUndefined)(e.text)||(o.push("lineHeight","textPath","annotations"),(0,l.forEach)(i,function(t){t.text(e.text+"",{lineHeight:e.lineHeight,textPath:e.textPath,annotations:e.annotations})}));var a={};(0,l.forIn)(e,function(e,t){(0,l.contains)(o,t)||(a[t]=e)}),(0,l.forEach)(i,function(e){e.attr(a)}),(0,l.isUndefined)(e.html)||(0,l.forEach)(i,function(e){}),(0,l.some)(["ref-x","ref-y","ref-dx","ref-dy","x-alignment","y-alignment","ref-width","ref-height"],function(t){return!(0,l.isUndefined)(e[t])})&&u.push(r)}});var s=r.size,c={x:0,y:0,width:s.width,height:s.height};return(0,l.forEach)(u,function(t){var r=e&&e[t],o=i[t],a=r?(0,l.merge)({},o,r):o;(0,l.forEach)(f[t],function(e){n.positionRelative(e,c,a,f)})}),o&&o.attr("transform",a||""),n}},{key:"positionRelative",value:function(e,t,n,r){var i=this,o=n.ref,a=(0,l.toFloat)(n["ref-dx"]),u=(0,l.toFloat)(n["ref-dy"]),f=n["y-alignment"],s=n["x-alignment"],c=n["ref-x"],d=(0,l.isPercentage)(c);c=(0,l.toFloat)(c,d);var p=n["ref-y"],v=(0,l.isPercentage)(p);p=(0,l.toFloat)(p,v);var h=n["ref-width"],y=(0,l.isPercentage)(h);h=(0,l.toFloat)(h,y);var g=n["ref-height"],m=(0,l.isPercentage)(g);g=(0,l.toFloat)(g,m);var b=e.findParent("pane-scalable",i.elem);if(o){var x=r&&r[o];if(x=x?x[0]:"."===o?i.vel:i.vel.findOne(o),!x)throw new Error("NodeView: reference does not exists.");t=x.bbox(!1,i.elem)}var w=e.attr("transform");w&&e.attr("transform",(0,l.clearTranslate)(w)),(0,l.isFinite)(h)&&(y||h>=0&&1>=h?e.attr("width",h*t.width):e.attr("width",Math.max(h+t.width,0))),(0,l.isFinite)(g)&&(m||g>=0&&1>=g?e.attr("height",g*t.height):e.attr("height",Math.max(g+t.height,0)));var k=0,O=0,P=void 0;if((0,l.isFinite)(a)&&(b?(P=b.scale(),k=t.x+t.width+a/P.sx):k=t.x+t.width+a),(0,l.isFinite)(u)&&(b?(P=P||b.scale(),O=t.y+t.height+u/P.sy):O=t.y+t.height+u),(0,l.isFinite)(c)&&(d||c>0&&1>c?k=t.x+t.width*c:b?(P=P||b.scale(),k=t.x+c/P.sx):k=t.x+c),(0,l.isFinite)(p)&&(d||p>0&&1>p?O=t.y+t.height*p:b?(P=P||b.scale(),O=t.y+p/P.sy):O=t.y+p),!(0,l.isUndefined)(f)||!(0,l.isUndefined)(s)){var C=e.bbox(!1,i.paper.drawPane);"middle"===f?O-=C.height/2:(0,l.isFinite)(f)&&(O+=f>-1&&1>f?C.height*f:f),"middle"===s?k-=C.width/2:(0,l.isFinite)(s)&&(k+=s>-1&&1>s?C.width*s:s)}return e.translate(k,O),i}},{key:"render",value:function(){var e=this,t=e.vel;return t.empty(),e.renderMarkup(),e.scalableNode=t.findOne(".pane-scalable"),e.rotatableNode=t.findOne(".pane-rotatable"),e.update().resize().rotate().translate()}},{key:"renderMarkup",value:function(){var e=this,t=e.cell.markup;if(!t)throw new Error("`markup` is missing while the default render() implementation is used.");return e.vel.append((0,s["default"])(t)),e}},{key:"scale",value:function(e,t){return this.vel.scale(e,t),this}},{key:"resize",value:function(){var e=this,t=e.scalableNode;if(t){var n=t.bbox(!0),r=e.cell.size,i=r.width/(n.width||1),o=r.height/(n.height||1);return i=(0,l.toFixed)(i,2),o=(0,l.toFixed)(o,2),t.attr("transform","scale("+i+","+o+")"),e.update(),e}}},{key:"translate",value:function(){var e=this,t=e.cell.position;return e.vel.attr("transform","translate("+t.x+","+t.y+")"),e}},{key:"rotate",value:function(){var e=this,t=e.rotatableNode;if(t){var n=e.cell,r=n.rotation,i=n.size,o=i.width/2,a=i.height/2;t.attr("transform","rotate("+r+","+o+","+a+")")}return e}},{key:"getBBox",value:function(){}}]),t}(p["default"]);v.specialAttributes=["text","html","style","ref","ref-x","ref-y","ref-dx","ref-dy","ref-width","ref-height","x-alignment","y-alignment","port"],t["default"]=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=Math,u=a.PI,l=a.abs,f=a.cos,s=a.sin,c=a.min,d=a.max,p=a.sqrt,v=a.atan2,h=a.round,y=a.floor,g=a.random,m=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];r(this,e);var i=this;i.x=t,i.y=n}return i(e,[{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this;return n.x=e,n.y=t,n}},{key:"translate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this;return n.x+=e,n.y+=t,n}},{key:"round",value:function(e){var t=this;return t.x=e?(0,o.toFixed)(t.x,e):h(t.x),t.y=e?(0,o.toFixed)(t.y,e):h(t.y),t}},{key:"diff",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"adhereToRect",value:function(e){var t=this;return e.containsPoint(t)?t:(t.x=c(d(t.x,e.x),e.x+e.width),t.y=c(d(t.y,e.y),e.y+e.height),t)}},{key:"theta",value:function(e){var t=-(e.y-this.y),n=e.x-this.x,r=10,i=0===(0,o.toFixed)(t,r)&&0===(0,o.toFixed)(n,r)?0:v(t,n);return 0>i&&(i=2*u+i),(0,o.toDeg)(i)}},{key:"distance",value:function(e){var t=e.x-this.x,n=e.y-this.y;return p(t*t+n*n)}},{key:"manhattanDistance",value:function(e){return l(e.x-this.x)+l(e.y-this.y)}},{key:"normalize",value:function(t){var n=this,r=n.x,i=n.y;if(0===r&&0===i)return n;var o,a=t||1;return o=0===r?a/i:0===i?a/r:a/n.distance(new e),n.x=o*r,n.y=o*i,n}},{key:"toPolar",value:function(t){t=t||new e(0,0);var n=this,r=n.x,i=n.y;return n.x=p((r-t.x)*(r-t.x)+(i-t.y)*(i-t.y)),n.y=(0,o.toRad)(t.theta(new e(r,i))),n}},{key:"rotate",value:function(t,n){n=(n+360)%360;var r=this;r.toPolar(t),r.y+=(0,o.toRad)(n);var i=e.fromPolar(r.x,r.y,t);return r.x=i.x,r.y=i.y,r}},{key:"move",value:function(e,t){var n=this,r=(0,o.toRad)(e.theta(n));return n.translate(f(r)*t,-s(r)*t)}},{key:"reflect",value:function(e){return e.move(this,this.distance(e))}},{key:"changeInAngle",value:function(e,t,n){return this.translate(-e,-t).theta(n)-this.theta(n)}},{key:"snapToGrid",value:function(e,t){var n=this;return n.x=(0,o.snapToGrid)(n.x,e),n.y=(0,o.snapToGrid)(n.y,t||e),n}},{key:"valueOf",value:function(){return[this.x,this.y]}},{key:"toString",value:function(){return this.valueOf().join(", ")}},{key:"equals",value:function(t){return e.equals(this,t)}},{key:"clone",value:function(){return e.fromPoint(this)}}],[{key:"equals",value:function(t,n){return t&&n&&t instanceof e&&n instanceof e&&t.x===n.x&&t.y===n.y}},{key:"fromPoint",value:function(t){return new e(t.x,t.y)}},{key:"fromString",value:function(t){var n=t.split(-1===t.indexOf("@")?" ":"@");return new e((0,o.toFloat)(n[0]),(0,o.toFloat)(n[1]))}},{key:"fromPolar",value:function(t,n,r){r=r||new e(0,0);var i=l(t*f(n)),a=l(t*s(n)),u=(0,o.normalizeAngle)((0,o.toDeg)(n));return 90>u?a=-a:180>u?(i=-i,a=-a):270>u&&(i=-i),new e(r.x+i,r.y+a)}},{key:"random",value:function(t,n,r,i){var o=y(g()*(n-t+1)+t),a=y(g()*(i-r+1)+r);return new e(o,a)}}]),e}();t["default"]=m},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){n(this,e)}return r(e,[{key:"digest",value:function(){return this}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(23),f=r(l),s=function(e){function t(e,n){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this)),a=r;return a.model=e,a.root=n,a.previous=n,r}return a(t,e),u(t,[{key:"digest",value:function(){var e=this,t=e.model,n=e.previous;return e.root=n,e.previous=t.rootChanged(n),e}}]),t}(f["default"]);t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(23),f=r(l),s=function(e){function t(e,n,r,a){i(this,t);var u=o(this,Object.getPrototypeOf(t).call(this)),l=u;return l.model=e,l.child=r,l.parent=n,l.index=a,l.previous=n,l.previousIndex=a,u}return a(t,e),u(t,[{key:"digest",value:function(){var e=this,t=e.model,n=e.child,r=e.previous,i=e.previousIndex,o=n.parent,a=o?o.indexOfChild(n):0;return r||e.connect(n,!1),o=t.childChanged(n,r,i),r&&e.connect(n,!0),e.parent=r,e.index=i,e.previous=o,e.previousIndex=a,e}},{key:"connect",value:function(e,t){var n=this,r=n.model;if(e.isLink){var i=e.getTerminal(!0),o=e.getTerminal(!1);i&&r.linkChanged(e,t?i:null,!0),o&&r.linkChanged(e,t?o:null,!1),e.setTerminal(i,!0),e.setTerminal(o,!1)}return e.eachChild(function(e){n.connect(e,t)}),n}}]),t}(f["default"]);t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),f=n(14),s=r(f),c=n(15),d=r(c),p=n(24),v=r(p),h=n(25),y=r(h),g=n(27),m=r(g),b=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this)),r=n;return r.nextId=0,r.updateLevel=0,r.endingUpdate=!1,r.changes=new m["default"](r),e?r.setRoot(e):r.clear(),n}return a(t,e),u(t,[{key:"clear",value:function(){return this.setRoot(this.createRoot())}},{key:"getDefaultParent",value:function(){return this.getRoot().getChildAt(0)}},{key:"isAncestor",value:function(e,t){if(!e||!t)return!1;for(;t&&t!==e;)t=t.parent;return t===e}},{key:"contains",value:function(e){return this.isAncestor(this.root,e)}},{key:"getCellById",value:function(e){return this.cells?this.cells[e]:null}},{key:"createCellId",value:function(){var e=this,t=e.nextId;return e.nextId+=1,"cell-"+t}},{key:"getAncestors",value:function(e){var t=this,n=[],r=e?e.parent:null;return r&&(n.push(r),n=n.concat(t.getAncestors(r))),n}},{key:"getDescendants",value:function(e){var t=this,n=[];return e=e||t.getRoot(),e.eachChild(function(e){n.push(e),n=n.concat(t.getDescendants(e))}),n}},{key:"getParents",value:function(e){var t=[];if(e){var n={};each(e,function(e){var r=e.parent;if(r){var i=cellRoute.create(r);n[i]||(n[i]=r,t.push(r))}})}return t}},{key:"isRoot",value:function(e){return e&&this.root===e}},{key:"createRoot",value:function(){var e=new d["default"];return e.insertChild(this.createLayer()),e}},{key:"getRoot",value:function(e){var t=e||this.root;if(e)for(;e;)t=e,e=e.parent;return t}},{key:"setRoot",value:function(e){return this.digest(new v["default"](this,e))}},{key:"rootChanged",value:function(e){var t=this,n=t.root;return t.root=e,t.cells=null,t.nextId=0,t.cellAdded(e),n}},{key:"isLayer",value:function(e){return e&&this.isRoot(e.parent)}},{key:"getLayers",value:function(){return this.getRoot().children||[]}},{key:"createLayer",value:function(){return new d["default"]}},{key:"getParent",value:function(e){return e?e.parent:null}},{key:"addCell",value:function(e,t,n){return this.addCells([e],t,n)}},{key:"addCells",value:function(e,t,n){var r=this;return t=t||r.getDefaultParent(),n=(0,l.isNullOrUndefined)(n)?t.getChildCount():n,r.beginUpdate(),(0,l.forEach)(e,function(e){e&&t&&e!==t?(r.digest(new y["default"](r,t,e,n)),n+=1):n-=1}),r.endUpdate(),r}},{key:"childChanged",value:function(e,t,n){var r=this,i=e.parent;return t?(t!==i||i.indexOfChild(e)!==n)&&t.insertChild(e,n):i&&i.removeChild(e),t&&!r.contains(i)?r.cellAdded(e):t||r.cellRemoved(e),i}},{key:"linkChanged",value:function(e,t,n){var r=e.getNode(n);return t?t.addLink(e,n):r&&r.removeLink(e,n),r}},{key:"cellAdded",value:function(e){var t=this;if(e){var n=e.id||t.createCellId(e);if(n){var r=t.getCellById(n);if(r!==e){for(;r;)n=t.createCellId(e),r=t.getCellById(n);t.cells||(t.cells={}),e.id=n,t.cells[n]=e}}(0,l.isNumeric)(n)&&(t.nextId=Math.max(t.nextId,n)),e.eachChild(t.cellAdded,t)}}},{key:"updateLinkParents",value:function(e,t){var n=this;t=t||n.getRoot(e),e.eachChild(function(e){n.updateLinkParents(e,t)}),e.eachLink(function(e){n.isAncestor(t,e)&&n.updateLinkParent(e,t)})}},{key:"updateLinkParent",value:function(e,t){for(var n=this,r=null,i=e.getTerminal(!0),o=e.getTerminal(!1);i&&!i.isLink&&i.geometry&&i.geometry.relative;)i=i.parent;for(;o&&!o.isLink&&o.geometry&&o.geometry.relative;)o=o.parent;if(n.isAncestor(t,i)&&n.isAncestor(t,o)&&(r=i===o?i.parent:n.getNearestCommonAncestor(i,o),r&&(r.parent!==n.root||n.isAncestor(r,e))&&e.parent!==r)){var a=e.geometry;if(a){var u=n.getOrigin(e.parent),l=n.getOrigin(r),f=l.x-u.x,s=l.y-u.y;a=a.clone(),a.translate(-f,-s),n.setGeometry(e,a)}n.add(r,e)}}},{key:"getNearestCommonAncestor",value:function(e,t){if(e&&t){var n=cellRoute.create(e),r=cellRoute.create(t);if(n&&r){var i=e,o=r,a=n;for(n.length>r.length&&(i=t,o=n,a=r);i;){var u=i.parent;if(0===o.indexOf(a+cellRoute.separator)&&u)return i;i=u,a=cellRoute.getParentRoute(a)}}}return null}},{key:"getOrigin",value:function(e){var t=this,n=null;if(e){if(n=t.getOrigin(e.parent),!e.isLink){var r=e.geometry;r&&(n.x+=r.x,n.y+=r.y)}}else n=new Point;return n}},{key:"remove",value:function(e){var t=this;return e&&(e===t.root?t.setRoot(null):e.parent&&t.digest(new y["default"](t,null,e))),e}},{key:"cellRemoved",value:function(e){var t=this;if(e){e.eachChild(function(e){t.cellRemoved(e)});var n=e.id,r=t.cells;r&&n&&delete r[n]}}},{key:"getChildNodes",value:function(e){return this.getChildCells(e,!0,!1)}},{key:"getChildLinks",value:function(e){return this.getChildCells(e,!1,!0)}},{key:"getChildCells",value:function(e,t,n){return e?e.filterChild(function(e){return t&&e.isNode||n&&e.isLink}):[]}},{key:"digest",value:function(e){var t=this;return e.digest(),t.beginUpdate(),t.changes.add(e),t.endUpdate(),t}},{key:"beginUpdate",value:function(){var e=this;e.updateLevel+=1,e.trigger("beginUpdate"),1===e.updateLevel&&e.trigger("startEdit")}},{key:"endUpdate",value:function(){var e=this;if(e.updateLevel-=1,0===e.updateLevel&&e.trigger("endEdit"),!e.endingUpdate){var t=e.changes;e.endingUpdate=0===e.updateLevel,e.trigger("endUpdate",t.changes),e.endingUpdate&&t.hasChange()&&t.notify().clear(),e.endingUpdate=!1}}}]),t}(s["default"]);t["default"]=b},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){n(this,e),this.model=t}return r(e,[{key:"hasChange",value:function(){var e=this.changes;return e&&e.length}},{key:"add",value:function(e){var t=this,n=t.changes;return e&&(n||(n=t.changes=[]),n.push(e)),e}},{key:"clear",value:function(){return this.changes=null,this}},{key:"notify",value:function(){var e=this;return e.model.trigger("change",e.changes),e}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=n(2),s=(i(f),n(14)),c=r(s),d=n(1),p=r(d),v=n(29),h=r(v),y=n(22),g=r(y),m=n(26),b=r(m),x=n(15),w=r(x),k=n(20),O=r(k),P=n(21),C=r(P),_=n(24),E=r(_),j=n(25),T=r(j),M=0,S={x:0,y:0,width:"100%",height:"100%",gridSize:1,viewportClassName:"pane-viewport",linkClassName:"",nodeClassName:"",getCellClassName:function(e){},getView:function(e){}},F=function(e){function t(e,n,r){o(this,t);var i=a(this,Object.getPrototypeOf(t).call(this)),u=i;return u.id="paper"+M++,u.model=n||new b["default"],u.configure(r),e&&u.init(e).setup().resize().translate(),i}return u(t,e),l(t,[{key:"configure",value:function(e){var t=this;return t.options=(0,f.merge)({},S,e),t.trigger("paper:configure",t.options),t}},{key:"snapToGrid",value:function(e){var t=this,n=t.options.gridSize||1,r=(0,p["default"])(t.drawPane).toLocalPoint(e.x,e.y);return{x:(0,f.snapToGrid)(r.x,n),y:(0,f.snapToGrid)(r.y,n)}}},{key:"toLocalPoint",value:function(e){var t=this,n=t.svg,r=n.createSVGPoint();if(r.x=e.x,r.y=e.y,h["default"].IS_FF){var i=(0,p["default"])("rect",{width:t.options.width,height:t.options.height,x:0,y:0,opacity:0});n.appendChild(i.node)}var o=(0,f.getOffset)(n);h["default"].IS_FF&&fakeRect.remove();var a=document,u=a.body,l=a.documentElement,s=u.scrollTop||l.scrollTop,c=u.scrollLeft||l.scrollLeft;return r.x+=c-o.left,r.y+=s-o.top,r.matrixTransform(t.drawPane.getCTM().inverse())}},{key:"init",value:function(e){var t=this;if(e){var n=(0,f.createSvgDocument)(),r=(0,f.createSvgElement)("g"),i=(0,f.createSvgElement)("g"),o=(0,f.createSvgElement)("g");r.appendChild(i),r.appendChild(o),n.appendChild(r),e.appendChild(n),t.svg=n,t.root=r,t.backgroundPane=i,t.drawPane=o,t.container=e,t.trigger("paper:init",e)}return t}},{key:"setup",value:function(){var e=this,t=e.svg;return(0,f.addEventListener)(t,"contextmenu",e.onContextMenu.bind(e)),(0,f.addEventListener)(t,"dblclick",e.onDblClick.bind(e)),(0,f.addEventListener)(t,"click",e.onClick.bind(e)),(0,f.addEventListener)(t,"mousedown",e.onPointerDown.bind(e)),(0,f.addEventListener)(t,"touchstart",e.onPointerDown.bind(e)),(0,f.addEventListener)(t,"mousemove",e.onPointerMove.bind(e)),(0,f.addEventListener)(t,"touchmove",e.onPointerMove.bind(e)),(0,f.addEventListener)(t,"mouseover",".pane-element",e.onCellMouseOver.bind(e)),(0,f.addEventListener)(t,"mouseout",".pane-element",e.onCellMouseOut.bind(e)),(0,f.addEventListener)(t,"mouseover",".pane-link",e.onCellMouseOver.bind(e)),(0,f.addEventListener)(t,"mouseout",".pane-link",e.onCellMouseOut.bind(e)),h["default"].IS_POINTER&&(e.container.style.msTouchAction="none"),e.model.on("change",e.processChanges,e),
e.trigger("paper:setup"),e}},{key:"remove",value:function(){}},{key:"destroy",value:function(){var e=this;return e.trigger("paper:destroy"),e}},{key:"reValidate",value:function(){return this.invalidate().validate()}},{key:"clear",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],r=this,i=r.model;return e=e||i.getRoot(),r.removeState(e),n&&(t||e!==r.currentRoot)?e.eachChild(function(e){r.clear(e,t,n)}):r.invalidate(e,!0,!0),r}},{key:"invalidate",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],r=this,i=r.model;e=e||i.getRoot();var o=r.getView(e);return o&&(o.invalid=!0),e.invalidating||(e.invalidating=!0,t&&e.eachChild(function(e){r.invalidate(e,t,n)}),n&&e.eachLink(function(e){r.invalidate(e,t,n)}),e.invalidating=!1),r}},{key:"validate",value:function(e){var t=this;return e=e||t.model.getRoot(),t.validateCell(e).validateView(e),t}},{key:"validateCell",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=this;if(e){t=t&&e.visible;var r=n.getView(e,t);r&&!t&&n.removeView(e),e.eachChild(function(e){n.validateCell(e,t)})}return n}},{key:"validateView",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=this;if(e){var r=n.getView(e);r&&r.invalid&&(r.invalid=!1,n.validateView(e.getParent(),t).updateNodeGeometry(e).renderView(e)),t&&e.eachChild(function(e){n.validateView(e,t)})}return n}},{key:"updateNodeGeometry",value:function(e){return this.updateNodeSize(e).updateNodePosition(e).updateNodeRotation(e)}},{key:"updateNodeSize",value:function(e){if(e&&e.isNode){var t=e.parent,n=e.metadata.size||{},r=(0,f.isUndefined)(n.width)?1:n.width,i=(0,f.isUndefined)(n.height)?1:n.height;if(n.relative&&t&&t.isNode){var o=t.size,a=(0,f.isPercentage)(r);r=(0,f.fixNumber)(r,a,0),a||r>0&&1>r?r*=o.width:r+=o.width,a=(0,f.isPercentage)(i),i=(0,f.fixNumber)(i,a,0),a||i>0&&1>i?i*=o.height:i+=o.height}else r=(0,f.fixNumber)(r,!1,1),i=(0,f.fixNumber)(i,!1,1);e.size={width:Math.max(r,1),height:Math.max(i,1)}}return this}},{key:"updateNodePosition",value:function(e){if(e&&e.isNode){var t=e.parent,n=e.metadata.position||{},r=(0,f.isUndefined)(n.x)?0:n.x,i=(0,f.isUndefined)(n.y)?0:n.y;if(n.relative&&t&&t.isNode){var o=t.size,a=t.position,u=(0,f.isPercentage)(r);r=(0,f.fixNumber)(r,u,0),u||r>-1&&1>r?r=a.x+o.width*r:r+=a.x,u=(0,f.isPercentage)(i),i=(0,f.fixNumber)(i,u,0),u||i>-1&&1>i?i=a.y+o.height*i:i+=a.y}else r=(0,f.fixNumber)(r,!1,0),i=(0,f.fixNumber)(i,!1,0);e.position={x:r,y:i}}return this}},{key:"updateNodeRotation",value:function(e){if(e&&e.isNode){var t=e.parent,n=e.metadata.rotation||{},r=(0,f.fixNumber)(n.angle,!1,0);if(n.inherited&&t&&t.isNode&&0!==t.rotation){var i=e.size,o=e.position,a=new g["default"](o.x+i.width/2,o.y+i.height/2),u=t.size,l=t.position,s=new g["default"](l.x+u.width/2,l.y+u.height/2);a.rotate(s,-t.rotation),o.x=a.x-i.width/2,o.y=a.y-i.height/2,r+=t.rotation}e.rotation=r}return this}},{key:"resize",value:function(e,t,n){var r=this,i=r.options,o=i.width,a=i.height;if(e=(0,f.isUndefined)(e)?o:e,t=(0,f.isUndefined)(t)?a:t,n===!0){var u=r.svg,l=(0,f.isPercentage)(e),s=(0,f.isPercentage)(o);l?e=s?(0,f.toFloat)(e,!1,0)+(0,f.toFloat)(o,!1,0)+"%":(0,f.toFloat)(e,!0,1)*o:e+=s?u.offsetWidth:o,l=(0,f.isPercentage)(t),s=(0,f.isPercentage)(a),l?t=s?(0,f.toFloat)(t,!1,0)+(0,f.toFloat)(a,!1,0)+"%":(0,f.toFloat)(t,!0,1)*a:t+=s?u.offsetHeight:a}return i.width=e,i.height=t,(0,p["default"])(r.svg).attr({width:e,height:t}),r.trigger("paper:resize",e,t),r}},{key:"resizeTo",value:function(e,t){return this.resize(e,t,!1)}},{key:"resizeBy",value:function(e,t){return this.resize(e,t,!0)}},{key:"translate",value:function(e,t,n){var r=this,i=r.options;return e=i.x=e||i.x,t=i.y=t||i.y,(0,p["default"])(r.root).translate(e,t,n),r.trigger("paper:translate",e,t),r}},{key:"translateTo",value:function(e,t){return this.translate(e,t,!0)}},{key:"translateBy",value:function(e,t){}},{key:"scale",value:function(e,t){arguments.length<=2||void 0===arguments[2]?0:arguments[2],arguments.length<=3||void 0===arguments[3]?0:arguments[3]}},{key:"getView",value:function(e,t){var n=this,r=n.views;if(e){var i=r?r[e.id]:null;return!i&&t&&e.visible&&(i=n.createView(e)),i}}},{key:"createView",value:function(e){var t=this,n=t.options,r=n.getView.call(t,e);if(r||(r=e.isLink?O["default"]:e.isNode?C["default"]:null),r){var i=new r(t,e),o=t.views;return o||(o=t.views={}),o[e.id]=i,i}}},{key:"removeView",value:function(e){var t=this,n=t.getView(e);return n&&(delete t.views[e.id],n.destroy()),t}},{key:"renderView",value:function(e){var t=this,n=t.getView(e);return n&&n.render(),t}},{key:"findViewByElem",value:function(e){var t=this,n=t.svg;for(e=(0,f.isString)(e)?n.querySelector(e):e;e&&e!==n&&e!==document;){var r=e.cellId;if(r)return t.views[r];e=e.parentNode}return null}},{key:"findViewByCell",value:function(e){var t=(0,f.isString)(e)?e:e.id;return this.views[t]}},{key:"findViewByPoint",value:function(e){}},{key:"findViewsInArea",value:function(e){}},{key:"processChanges",value:function(e){var t=this;return console.log(e),(0,f.forEach)(e,function(e){t.distributeChange(e)}),t.validate(),t}},{key:"distributeChange",value:function(e){var t=this;return e instanceof E["default"]?t.onRootChanged(e):e instanceof T["default"]&&t.onChildChanged(e),t}},{key:"onRootChanged",value:function(e){}},{key:"onChildChanged",value:function(e){var t=this,n=e.parent,r=e.previous;t.invalidate(e.child,!0,!0),n!==r&&(n&&t.invalidate(n,!1,!1),r&&t.invalidate(r,!1,!1))}},{key:"isValidEvent",value:function(e,t){if(t&&t.cell&&t.cell instanceof w["default"])return!0;var n=this,r=n.svg,i=e.target;return r===i||(0,f.containsElem)(r,i)?!0:void 0}},{key:"onContextMenu",value:function(e){e=(0,f.normalizeEvent)(e);var t=this,n=t.findViewByElem(e.target);if(t.isValidEvent(e,n)){var r=t.snapToGrid({x:e.clientX,y:e.clientY});n?(t.sourceView=n,n.onContextMenu(e,r.x,r.y)):t.trigger("blank:contextmenu",e,r.x,r.y)}}},{key:"onDblClick",value:function(e){e.preventDefault(),e=(0,f.normalizeEvent)(e);var t=this,n=t.findViewByElem(e.target);if(t.isValidEvent(e,n)){var r=t.snapToGrid({x:e.clientX,y:e.clientY});n?n.onDblClick(e,r.x,r.y):t.trigger("blank:pointerdblclick",e,r.x,r.y)}}},{key:"onClick",value:function(e){}},{key:"onPointerDown",value:function(e){e=(0,f.normalizeEvent)(e);var t=this,n=t.findViewByElem(e.target);if(t.isValidEvent(e,n)){var r=t.snapToGrid({x:e.clientX,y:e.clientY});n?n.onPointerDown(e,r.x,r.y):t.trigger("blank:pointerDown",e,r.x,r.y)}}},{key:"onPointerMove",value:function(e){e.preventDefault(),e=(0,f.normalizeEvent)(e);var t=this,n=t.sourceView;if(n){var r=t.snapToGrid({x:e.clientX,y:e.clientY});t._mouseMoved++,n.onPointerMove(e,r.x,r.y)}}},{key:"onPointerUp",value:function(e){e=(0,f.normalizeEvent)(e);var t=this,n=t.snapToGrid({x:e.clientX,y:e.clientY}),r=t.sourceView;r?(r.onPointerUp(e,n.x,n.y),t.sourceView=null):t.trigger("blank:pointerUp",e,n.x,n.y)}},{key:"onCellMouseOver",value:function(e){e=(0,f.normalizeEvent)(e);var t=this,n=t.findViewByElem(e.target);if(n){if(!t.isValidEvent(e,n))return;n.mouseover(e)}}},{key:"onCellMouseOut",value:function(e){e=(0,f.normalizeEvent)(e);var t=this,n=t.findViewByElem(e.target);if(n){if(!t.isValidEvent(e,n))return;n.mouseout(e)}}}]),t}(c["default"]);t["default"]=F},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=navigator.userAgent,r=navigator.appVersion;t["default"]={IS_IE:n.indexOf("MSIE")>=0,IS_IE11:!!n.match(/Trident\/7\./),IS_NS:n.indexOf("Mozilla/")>=0&&n.indexOf("MSIE")<0,IS_FF:n.indexOf("Firefox/")>=0,IS_GC:n.indexOf("Chrome/")>=0,IS_SF:n.indexOf("AppleWebKit/")>=0&&n.indexOf("Chrome/")<0,IS_OP:n.indexOf("Opera/")>=0,IS_OT:n.indexOf("Presto/2.4.")<0&&n.indexOf("Presto/2.3.")<0&&n.indexOf("Presto/2.2.")<0&&n.indexOf("Presto/2.1.")<0&&n.indexOf("Presto/2.0.")<0&&n.indexOf("Presto/1.")<0,IS_MT:n.indexOf("Firefox/")>=0&&n.indexOf("Firefox/1.")<0&&n.indexOf("Firefox/2.")<0||n.indexOf("Iceweasel/")>=0&&n.indexOf("Iceweasel/1.")<0&&n.indexOf("Iceweasel/2.")<0||n.indexOf("SeaMonkey/")>=0&&n.indexOf("SeaMonkey/1.")<0||n.indexOf("Iceape/")>=0&&n.indexOf("Iceape/1.")<0,IS_IOS:!!n.match(/(iPad|iPhone|iPod)/g),IS_WIN:r.indexOf("Win")>0,IS_MAC:r.indexOf("Mac")>0,IS_TOUCH:"ontouchstart"in document.documentElement,IS_POINTER:window.navigator.msPointerEnabled||!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(17),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({defaults:{attrs:{".":{fill:"#ffffff",stroke:"none"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(30),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'<g class="pane-rotatable"><g class="pane-scalable"><text/></g></g>',defaults:{attrs:{text:{"font-size":18,fill:"#000000"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(30),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'\n        <g class="pane-rotatable">\n          <g class="pane-scalable">\n            <rect/>\n          </g>\n          <text/>\n        </g>',defaults:{attrs:{rect:{fill:"#ffffff",stroke:"#000000","stroke-width":"1",width:100,height:40},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(30),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'<g class="pane-rotatable"><g class="pane-scalable"><circle/></g><text/></g>',defaults:{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(30),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'<g class="pane-rotatable"><g class="pane-scalable"><ellipse/></g><text/></g>',defaults:{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(30),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'<g class="pane-rotatable"><g class="pane-scalable"><image/></g><text/></g>',defaults:{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(30),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'<g class="pane-rotatable"><g class="pane-scalable"><path/></g><text/></g>',defaults:{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(30),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'<g class="pane-rotatable"><g class="pane-scalable"><polygon/></g><text/></g>',defaults:{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(30),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'<g class="pane-rotatable"><g class="pane-scalable"><polyline/></g><text/></g>',defaults:{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(36),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({defaults:{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"y-alignment":"middle"}}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(17),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.configure({markup:'<g class="pane-rotatable"><g class="pane-scalable"><rect/></g></g>',defaults:{attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000","stroke-width":"1",width:15,height:15}}}}),t["default"]=f},function(e,t){}])});