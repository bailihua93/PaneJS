!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.pane=t():e.pane=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.shapes=t.Paper=t.Model=t.TerminalChange=t.ChildChange=t.RootChange=t.Change=t.NodeView=t.LinkView=t.CellView=t.Node=t.Link=t.Cell=t.VElement=t.vector=t.utils=void 0;var o=n(1),a=i(o),u=n(13),l=r(u),f=n(17),s=(r(f),n(18)),c=r(s),d=n(25),h=r(d),v=n(19),p=r(v),y=n(31),g=r(y),m=n(33),b=r(m),x=n(28),w=r(x),k=n(27),O=r(k),P=n(30),_=r(P),C=n(21),j=r(C),M=n(20),E=r(M),T=n(22),S=r(T),F=n(23),N=r(F),L=n(34),R=r(L),A=n(35),I=r(A),D=n(36),V=r(D),$=n(37),z=r($),G=n(38),B=r(G),U=n(39),W=r(U),q=n(40),H=r(q),X=n(41),Y=r(X),Z=n(42),Q=r(Z),K=n(43),J=(r(K),n(44)),ee=r(J),te=n(45),ne=r(te);n(46),h["default"].registerConnector("sharp",ee["default"]).registerConnector("rounded",ne["default"]);var re={basic:{Text:R["default"],Rect:I["default"],Circle:V["default"],Ellipse:z["default"],Image:B["default"],Path:W["default"],Polygon:H["default"],Polyline:Y["default"],Rhombus:Q["default"]},port:{Rect:I["default"]}};t.utils=a,t.vector=l["default"],t.VElement=u.VElement,t.Cell=p["default"],t.Link=g["default"],t.Node=b["default"],t.CellView=w["default"],t.LinkView=O["default"],t.NodeView=_["default"],t.Change=j["default"],t.RootChange=E["default"],t.ChildChange=S["default"],t.TerminalChange=N["default"],t.Model=c["default"],t.Paper=h["default"],t.shapes=re},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})};for(var o in r){i(o)}var a=n(3),u=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})};for(var l in a){u(l)}var f=n(4),s=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})};for(var c in f){s(c)}var d=n(6),h=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})};for(var v in d){h(v)}var p=n(5),y=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})};for(var g in p){y(g)}var m=n(7),b=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})};for(var x in m){b(x)}var w=n(8),k=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}})};for(var O in w){k(O)}var P=n(9),_=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}})};for(var C in P){_(C)}var j=n(10),M=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return j[e]}})};for(var E in j){M(E)}var T=n(11),S=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}})};for(var F in T){S(F)}var N=n(12),L=function(e){return"default"===e?"continue":void Object.defineProperty(t,e,{enumerable:!0,get:function(){return N[e]}})};for(var R in N){L(R)}t["default"]={}},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e){return null===e}function i(e){return"undefined"==typeof e}function o(e){return"string"==typeof e}function a(e){return"boolean"==typeof e}function u(e){return i(e)||r(e)}function l(e,t){return m.call(e)==="[object "+t+"]"}function f(e){if(!e)return!1;var t="undefined"==typeof e?"undefined":n(e);return"function"===t||"object"===t}function s(e){return e&&e===e.window}function c(e){return l(e,"Function")}function d(e){return Array.isArray(e)}function h(e){if(d(e))return!0;if(c(e)||s(e))return!1;var t=!!e&&"length"in e&&e.length;return 0===t||"number"==typeof t&&t>0&&t-1 in e}function v(e){return!d(e)&&e-parseFloat(e)+1>=0}function p(e){return!f(e)||e.nodeType||s(e)?!1:e.constructor&&!b.call(e.constructor.prototype,"isPrototypeOf")?!1:!0}function y(e){for(var t in e)return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var g=Object.prototype,m=g.toString,b=g.hasOwnProperty;t.isNull=r,t.isType=l,t.isArray=d,t.isWindow=s,t.isObject=f,t.isString=o,t.isBoolean=a,t.isNumeric=v,t.isFunction=c,t.isArrayLike=h,t.isUndefined=i,t.isPlainObject=p,t.isEmptyObject=y,t.isNullOrUndefined=u},function(e,t,n){"use strict";function r(e){return(0,v.isArray)(e)?e:(0,v.isArrayLike)(e)?p.slice.call(e):[e]}function i(e,t){return e?p.indexOf.call(e,t):-1}function o(e,t){return e?p.lastIndexOf.call(e,t):-1}function a(e,t,n){return e?p.every.call(e,t,n):!1}function u(e,t,n){return e?p.some.call(e,t,n):!1}function l(e,t,n){e&&p.forEach.call(e,t,n)}function f(e,t,n){return e?p.map.call(e,t,n):[]}function s(e,t,n){return e?p.filter.call(e,t,n):[]}function c(e,t,n){return e?p.reduce.call(e,t,n):n}function d(e,t,n){return e?p.reduceRight.call(e,t,n):n}function h(e,t){return e&&i(e,t)>=0}Object.defineProperty(t,"__esModule",{value:!0}),t.contains=t.lastIndexOf=t.reduceRight=t.indexOf=t.toArray=t.forEach=t.reduce=t.filter=t.every=t.some=t.map=void 0;var v=n(2),p=Array.prototype;t.map=f,t.some=u,t.every=a,t.filter=s,t.reduce=c,t.forEach=l,t.toArray=r,t.indexOf=i,t.reduceRight=d,t.lastIndexOf=o,t.contains=h},function(e,t,n){"use strict";function r(e){return""+e}function i(e){return(""+e).toUpperCase()}function o(e){return(""+e).toLowerCase()}function a(e){return e?d.trim.call(""+e):""}function u(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function l(e){var t=0,n=e.length;if(0===n)return t;for(var r=0;n>r;r++){var i=e.charCodeAt(r);t=(t<<5)-t+i,t&=t}return t}function f(e,t){return t=t||{},(""+e).replace(/\$\{(\w+)\}/g,function(e,n){var r=(0,c.getByPath)(t,n);return void 0!==r?r:e})}function s(e){return(e||"").replace(/ /g,"\xa0")}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeText=t.toString=t.hashCode=t.format=t.uuid=t.trim=t.uc=t.lc=void 0;var c=n(5),d=String.prototype;t.lc=o,t.uc=i,t.trim=a,t.uuid=u,t.format=f,t.hashCode=l,t.toString=r,t.sanitizeText=s},function(e,t,n){"use strict";function r(e,t){return null!==e&&Object.prototype.hasOwnProperty.call(e,t)}function i(e){return e?Object.keys(e):[]}function o(e,t,n){(0,s.forEach)(i(e),function(r){t.call(n,e[r],r)})}function a(e){e||(e={});for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r)e[i]=r[i]}return e}function u(e){e||(e={});for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r){var o=e[i],a=r[i],l=(0,c.isArray)(a);if(l||(0,c.isPlainObject)(a)){var f=void 0;f=l?o&&(0,c.isArray)(o)?o:[]:o&&(0,c.isPlainObject)(o)?o:{},e[i]=u(f,a)}else e[i]=a}}return e}function l(e,t,n){n=n||".";for(var r=t.split(n);r.length;){var i=r.shift();if(!(Object(e)===e&&i in e))return;e=e[i]}return e}function f(e){if(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t];e&&(e.prototype=e.__proto__=null),e.destroyed=!0}}Object.defineProperty(t,"__esModule",{value:!0}),t.getByPath=t.destroy=t.extend=t.merge=t.forIn=t.keys=t.hasKey=void 0;var s=n(3),c=n(2);t.hasKey=r,t.keys=i,t.forIn=o,t.merge=u,t.extend=a,t.destroy=f,t.getByPath=l},function(e,t,n){"use strict";function r(e){return window.isFinite(e)&&!window.isNaN(parseFloat(e))}function i(e){return(0,s.isString)(e)&&"%"===e.slice(-1)}function o(e){return parseInt(e,10)}function a(e,t){var n=parseFloat(e);return t?n/100:n}function u(e,t){var n=Math.pow(10,t);return a((Math.round(e*n)/n).toFixed(t))}function l(e,t,n){var r=a(e,t);return isNaN(r)?n:r}function f(e,t){return(0,s.isNullOrUndefined)(e)?t:Math.min(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.fixNumber=t.isPercentage=t.isFinite=t.fixIndex=t.toFixed=t.toFloat=t.toInt=void 0;var s=n(2);t.toInt=o,t.toFloat=a,t.toFixed=u,t.fixIndex=f,t.isFinite=r,t.isPercentage=i,t.fixNumber=l},function(e,t,n){"use strict";function r(e,t,n){var r=void 0;if((0,o.isFunction)(e)){var i=t.length,a=t[0],u=t[1],l=t[2];r=0===i?e.call(n):1===i?e.call(n,a):2===i?e.call(n,a,u):3===i?e.call(n,a,u,l):e.apply(n,t)}return r}function i(e){return(0,o.isFunction)(e)?Function.prototype.bind.apply(arguments):e}Object.defineProperty(t,"__esModule",{value:!0}),t.invoke=t.bind=void 0;var o=n(2);t.bind=i,t.invoke=r},function(e,t,n){"use strict";function r(e){return e.nodeName?e.nodeName.toLowerCase():""}function i(e){return e.getAttribute&&e.getAttribute("class")||""}function o(e,t,n,i){var o=e&&!isNaN(e.nodeType);return o&&(o=(0,d.isNullOrUndefined)(t)||r(e)===t.toLowerCase()),o&&(o=(0,d.isNullOrUndefined)(n)||e.getAttribute(n)===i),o}function a(e){return(0,d.isWindow)(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}function u(e){var t={top:0,left:0},n=e&&e.ownerDocument;if(!n)return t;var r=n.documentElement;if(!v(r,e))return t;(0,d.isUndefined)(e.getBoundingClientRect)||(t=e.getBoundingClientRect());var i=a(n);return{top:t.top+(i.pageYOffset||r.scrollTop)-(r.clientTop||0),left:t.left+(i.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}}function l(e,t){var n=void 0;try{var r=new DOMParser;(0,d.isUndefined)(t)||(r.async=t),n=r.parseFromString(e,"text/xml")}catch(i){n=null}if(!n||n.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return n}function f(e){var t='<svg xmlns="'+p.xmlns+'" xmlns:xlink="'+p.xmlns+'" version="'+y+'">'+(e||"")+"</svg>",n=l(t,!1);return n.documentElement}function s(e,t){return(t||document).createElementNS(p.xmlns,e)}function c(e,t,n){if("id"===t)e.id=n;else{var r=t.split(":");r.length>1?e.setAttributeNS(p[r[0]],r[1],n):e.setAttribute(t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.containsElem=t.createSvgDocument=t.createSvgElement=t.setAttribute=t.getClassName=t.getNodeName=t.getOffset=t.getWindow=t.isNode=void 0;var d=n(2),h=document.documentElement,v=h.compareDocumentPosition||h.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},p={xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},y="1.1";t.isNode=o,t.getWindow=a,t.getOffset=u,t.getNodeName=r,t.getClassName=i,t.setAttribute=c,t.createSvgElement=s,t.createSvgDocument=f,t.containsElem=v},function(e,t){"use strict";function n(e){return 180*e/Math.PI%360}function r(e,t){return e=t?e:e%360,e*Math.PI/180}function i(e,t){return t*Math.round(e/t)}function o(e){return e%360+(0>e?360:0)}Object.defineProperty(t,"__esModule",{value:!0}),t.toDeg=n,t.toRad=r,t.snapToGrid=i,t.normalizeAngle=o},function(e,t,n){"use strict";function r(e){return e.preventDefault=r.preventDefault,e.stopPropagation=r.stopPropagation,e}function i(e){var t=!0,n=this;e=e||r((h.parentWindow||d).event);var i=n.events[e.type];for(var o in i)i.hasOwnProperty(o)&&(n.$$handleEvent=i[o],n.$$handleEvent(e)===!1&&(t=!1));return t}function o(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{n.$$guid||(n.$$guid=++o.guid),e.events||(e.events={});var r="on"+t,a=e.events[t];a||(a=e.events[t]={},e[r]&&(a[0]=e[r])),a[n.$$guid]=n,e[r]=i}}function a(e,t,n){for(;t&&t!==e;){if(v(t,n))return t;t=t.parentElement}return null}function u(e,t,n){var r=n._delegateWrapper;e.removeEventListener?(e.removeEventListener(t,n,!1),r&&e.removeEventListener(t,r,!1)):e.events&&e.events[t]&&(delete e.events[t][n.$$guid],r&&delete e.events[t][r.$$guid])}function l(e,t,n,r,i){function l(o){var f=a(e,o.target,n);f&&(o.delegateTarget=f,i===!0&&u(e,t,l),r.call(e,o))}return(0,s.isFunction)(n)?o(e,t,n):(r._delegateWrapper=l,o(e,t,l),r)}function f(e){var t=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];if(t){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.addEventListener=t.normalizeEvent=void 0;var s=n(2),c=n(3),d=window,h=document,v=function(){var e=h.createElement("div"),t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,n=t&&t.call(e,"div");return function(e,r){if(n)return t.call(e,r);var i=e.parentNode;i||n||(i=h.createDocumentFragment(),i.appendChild(e));var o=i.querySelectorAll(r);return(0,c.some)(o,function(t){return t===e})}}();r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0},o.guid=0,t.normalizeEvent=f,t.addEventListener=l,t.removeEventListener=u},function(e,t,n){"use strict";function r(e){return["M",e.getAttribute("x1"),e.getAttribute("y1"),"L",e.getAttribute("x2"),e.getAttribute("y2")].join(" ")}function i(e){var t=[];return(0,f.forEach)(e.points,function(e,n){t.push(0===n?"M":"L",e.x,e.y)}),t.push("Z"),t.join(" ")}function o(e){var t=[];return(0,f.forEach)(e.points,function(e,n){t.push(0===n?"M":"L",e.x,e.y)}),t.join(" ")}function a(e){var t=parseFloat(e.getAttribute("x"))||0,n=parseFloat(e.getAttribute("y"))||0,r=parseFloat(e.getAttribute("width"))||0,i=parseFloat(e.getAttribute("height"))||0,o=parseFloat(e.getAttribute("rx"))||0,a=parseFloat(e.getAttribute("ry"))||0,u=t+r,l=n+i,f=void 0;return f=o||a?["M",t+o,n,"L",u-o,n,"Q",u,n,u,n+a,"L",u,n+i-a,"Q",u,l,u-o,l,"L",t+o,l,"Q",t,l,t,l-o,"L",t,n+a,"Q",t,n,t+o,n,"Z"]:["M",t,n,"H",u,"V",l,"H",t,"V",n,"Z"],f.join(" ")}function u(e){var t=parseFloat(e.getAttribute("cx"))||0,n=parseFloat(e.getAttribute("cy"))||0,r=parseFloat(e.getAttribute("r")),i=r*s;return["M",t,n-r,"C",t+i,n-r,t+r,n-i,t+r,n,"C",t+r,n+i,t+i,n+r,t,n+r,"C",t-i,n+r,t-r,n+i,t-r,n,"C",t-r,n-i,t-i,n-r,t,n-r,"Z"].join(" ")}function l(e){var t=parseFloat(e.getAttribute("cx"))||0,n=parseFloat(e.getAttribute("cy"))||0,r=parseFloat(e.getAttribute("rx")),i=parseFloat(e.getAttribute("ry"))||r,o=r*s,a=i*s;return["M",t,n-i,"C",t+o,n-i,t+r,n-a,t+r,n,"C",t+r,n+a,t+o,n+i,t,n+i,"C",t-o,n+i,t-r,n+a,t-r,n,"C",t-r,n-a,t-o,n-i,t,n-i,"Z"].join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.polylineToPathData=t.polygonToPathData=t.ellipseToPathData=t.circleToPathData=t.rectToPathData=t.lineToPathData=void 0;var f=n(3),s=.5522847498307935;t.lineToPathData=r,t.rectToPathData=a,t.circleToPathData=u,t.ellipseToPathData=l,t.polygonToPathData=i,t.polylineToPathData=o},function(e,t,n){"use strict";function r(e){var t={tx:0,ty:0};if(e){var n=/[ ,]+/,r=e.match(/translate\((.*)\)/);if(r){var i=r[1].split(n);i[0]&&(t.tx+=(0,c.toFloat)(i[0])),i[1]&&(t.ty+=(0,c.toFloat)(i[1]))}}return t}function i(e){var t={sx:1,sy:1};if(e){var n=/[ ,]+/,r=e.match(/scale\((.*)\)/);if(r){var i=r[1].split(n);i[0]&&(t.sx*=(0,c.toFloat)(i[0])),(i[1]||i[0])&&(t.sy*=(0,c.toFloat)(i[1]||i[0]))}}return t}function o(e){var t={angle:0};if(e){var n=/[ ,]+/,r=e.match(/rotate\((.*)\)/);if(r){var i=r[1].split(n);i[0]&&(t.angle+=(0,c.toFloat)(i[0])),i[1]&&i[2]&&(t.cx=(0,c.toFloat)(i[1]),t.cy=(0,c.toFloat)(i[2]))}}return t}function a(e){return{translate:r(e),rotate:o(e),scale:i(e)}}function u(e){return e&&(0,s.trim)(e.replace(/translate\([^)]*\)/g,""))||""}function l(e){return e&&(0,s.trim)(e.replace(/scale\([^)]*\)/g,""))||""}function f(e){return e&&(0,s.trim)(e.replace(/rotate\([^)]*\)/g,""))||""}Object.defineProperty(t,"__esModule",{value:!0}),t.clearTranslate=t.clearRotate=t.clearScale=t.parseTranslate=t.parseTransform=t.parseRotate=t.parseScale=void 0;var s=n(4),c=n(6);t.parseScale=i,t.parseRotate=o,t.parseTransform=a,t.parseTranslate=r,t.clearScale=l,t.clearRotate=f,t.clearTranslate=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(){var e=void 0;do k+=1,e="pane-path-"+k;while(document.getElementById(e));return e}function l(e,t){var n=void 0;try{n=t.getScreenCTM().inverse()}catch(r){throw new Error("Can not inverse source element' ctm.")}return n.multiply(e.getScreenCTM())}function f(e,t){var n=void 0!==e.getTransformToElement?e.getTransformToElement(t):l(e,t);return n}function s(e){return new O(e)}function c(e){return e instanceof O?e.node:e}function d(e,t,n){if(!e)return null;if(p.isObject(e))return s(e);if("svg"===e.toLowerCase())return s(p.createSvgDocument());if("<"===e[0]){var r=p.createSvgDocument(e);return r.childNodes.length>1?p.map(r.childNodes,function(e){return s(document.importNode(e,!0))}):s(document.importNode(r.firstChild,!0))}return e=p.createSvgElement(e),t&&p.forIn(t,function(t,n){p.setAttribute(e,n,t)}),n&&(n=p.isArray(n)?n:[n],p.forEach(n,function(t){e.appendChild(t instanceof O?t.node:t)})),s(e)}var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VElement=void 0;var v=n(1),p=i(v),y=n(14),g=r(y),m=n(15),b=r(m),x=/[\t\r\n\f]/g,w=/\S+/g,k=0,O=t.VElement=function(){function e(t){a(this,e),t instanceof e&&(t=t.node),this.node=t}return h(e,[{key:"attr",value:function(e,t){var n=this,r=n.node,i=arguments.length;if(!i){var a=function(){var e={};return p.forEach(r.attributes,function(t){e[t.nodeName]=t.nodeValue}),{v:e}}();if("object"===("undefined"==typeof a?"undefined":o(a)))return a.v}if(1===i){if(!p.isObject(e))return r.getAttribute(e);p.forIn(e,function(e,t){p.setAttribute(r,t,e)})}else p.setAttribute(r,e,t);return n}},{key:"removeAttr",value:function(e){var t=this,n=t.node;return n&&e&&n.removeAttribute(e),t}},{key:"css",value:function(){}},{key:"text",value:function(e,t){var n=this,r=n.node;e=p.sanitizeText(e),t=t||{};var i=n.attr("y");i||n.attr("y","0.8em"),n.attr("display",e?null:"none"),r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.textContent="";var o=t.textPath;if(o){var a=n.find("defs");a.length||(a=d("defs"),n.append(a));var l=p.isObject(o),f=l?o.d:o,s=void 0;f&&(s=d("path",{d:f,id:u()}),a.append(s));var c=d("textPath");l&&(!o["xlink:href"]&&s&&c.attr("xlink:href","#"+s.node.id),c.attr(o)),n.append(c),r=c.node}var h=0,v=e.split("\n"),y=t.lineHeight,g=t.annotations,m=t.includeAnnotationIndices;return g&&(g=p.isArray(g)?g:[g]),y="auto"===y?"1.5em":y||"1em",p.forEach(v,function(e,i){var o=d("tspan",{dy:i?y:"0",x:n.attr("x")||0});o.addClass("pane-text-line"),e?g?!function(){var n=0,r=P.annotateString(e,g,{offset:-h,includeAnnotationIndices:m});p.forEach(r,function(e){var t=void 0;if(p.isObject(e)){var r=p.toInt(e.attrs["font-size"]);r&&r>n&&(n=r),t=d("tspan",e.attrs),m&&t.attr("annotations",e.annotations),e.attrs["class"]&&t.addClass(e.attrs["class"]),t.node.textContent=e.t}else t=document.createTextNode(e||" ");o.append(t)}),"auto"===t.lineHeight&&n&&0!==i&&o.attr("dy",1.2*n+"px")}():o.node.textContent=e:(o.addClass("pane-text-empty"),o.node.style.opacity=0,o.node.textContent="-"),r.appendChild(o.node),h+=e.length+1}),n}},{key:"hasClass",value:function(e){var t=this,n=t.node,r=" "+e+" ";return 1===n.nodeType?(" "+p.getClassName(n)+" ").replace(x," ").indexOf(r)>-1:!1}},{key:"addClass",value:function(e){var t=this,n=t.node;if(p.isFunction(e))return t.addClass(e.call(n,p.getClassName(n)));if(e&&p.isString(e)&&1===n.nodeType){var r=e.match(w)||[],i=(" "+p.getClassName(n)+" ").replace(x," "),o=p.reduce(r,function(e,t){return e.indexOf(" "+t+" ")<0&&(e+=t+" "),e},i);o=p.trim(o),i!==o&&n.setAttribute("class",o)}return t}},{key:"removeClass",value:function(e){var t=this,n=t.node;if(p.isFunction(e))return t.removeClass(e.call(n,p.getClassName(n)));if((!e||p.isString(e))&&1===n.nodeType){var r=(e||"").match(w)||[],i=(" "+p.getClassName(n)+" ").replace(x," "),o=p.reduce(r,function(e,t){return e.indexOf(" "+t+" ")>-1&&(e=e.replace(" "+t+" "," ")),e},i);o=e?p.trim(o):"",i!==o&&n.setAttribute("class",o)}return t}},{key:"toggleClass",value:function(e,t){var n=this,r=n.node;if(p.isBoolean(t)&&p.isString(e))return t?n.addClass(e):n.removeClass(e);if(p.isFunction(e))return n.toggleClass(e.call(r,p.getClassName(r),t),t);if(e&&p.isString(e)){var i=e.match(w)||[];p.forEach(i,function(e){n.hasClass(e)?n.removeClass(e):n.addClass(e)})}return n}},{key:"remove",value:function(){var e=this,t=e.node;return t&&t.parentNode&&t.parentNode.removeChild(t),e}},{key:"empty",value:function(){var e=this,t=e.node;if(t)for(;t.lastChild;)t.removeChild(t.lastChild);return e}},{key:"append",value:function(e){var t=this;return e&&p.forEach(p.toArray(e),function(e){t.node.appendChild(c(e))}),t}},{key:"prepend",value:function(e){var t=this,n=t.node;return e&&n.insertBefore(c(e),n.firstChild),t}},{key:"appendTo",value:function(){}},{key:"prependTo",value:function(){}},{key:"before",value:function(){}},{key:"after",value:function(){}},{key:"getSVG",value:function(){var e=this,t=e.node;return t instanceof window.SVGSVGElement?e:s(t.ownerSVGElement)}},{key:"getDefs",value:function(){var e=null,t=this.getSVG();return p.some(t.node.childNodes,function(t){return p.isNode(t,"defs")?(e=s(t),!0):void 0}),e||(e=d("defs"),t.append(e)),e}},{key:"clone",value:function(){var e=this.node,t=s(e.cloneNode(!0));return e.id&&t.node.removeAttribute("id"),t}},{key:"find",value:function(e){return p.map(this.node.querySelectorAll(e),s)}},{key:"findOne",value:function(e){var t=this.node.querySelector(e);return t?s(t):null}},{key:"findParent",value:function(e,t){var n=this.node,r=t||n.ownerSVGElement;for(n=n.parentNode;n&&n!==r;){var i=s(n);if(i.hasClass(e))return i;n=n.parentNode}return null}},{key:"index",value:function(){for(var e=0,t=this.node.previousSibling;t;)1===t.nodeType&&e++,t=t.previousSibling;return e}},{key:"translate",value:function(e,t,n){var r=this.attr("transform")||"",i=p.parseTranslate(r);if(!arguments.length)return i;var o=p.clearTranslate(r),a=n?i.tx+e:e,u=n?i.ty+t:t,l="translate("+a+","+u+")";return o&&(l=l+" "+o),this.attr("transform",l)}},{key:"rotate",value:function(e,t,n,r){var i=this.attr("transform")||"",o=p.parseRotate(i);if(!arguments.length)return o;var a=p.clearRotate(i);e%=360;var u=r?o.angle+e:e,l=p.isUndefined(t)||p.isUndefined(n)?"":","+t+","+n,f="rotate("+u+l+")";return a&&(f=a+" "+f),this.attr("transform",f)}},{key:"scale",value:function(e,t,n){var r=this.attr("transform")||"",i=p.parseScale(r),o=arguments.length;if(!o)return i;var a=p.clearScale(r);1===o?t=e:2===o&&p.isBoolean(t)&&(n=t,t=e),e=n?i.sx*e:e,t=n?i.sy*t:t;var u="scale("+e+","+t+")";return a&&(u=a+" "+u),this.attr("transform",u)}},{key:"bbox",value:function(e,t){var n=this,r=n.node;if(!r.ownerSVGElement)return{x:0,y:0,width:0,height:0};var i=void 0;try{i=r.getBBox(),i={x:i.x,y:i.y,width:i.width,height:i.height}}catch(o){i={x:r.clientLeft,y:r.clientTop,width:r.clientWidth,height:r.clientHeight}}if(e)return i;var a=f(r,t||r.ownerSVGElement);return P.transformRect(i,a)}},{key:"toLocalPoint",value:function(e,t){var n=this,r=n.getSVG().node,i=r.createSVGPoint();i.x=e,i.y=t;try{var o=i.matrixTransform(r.getScreenCTM().inverse()),a=f(n.node,r).inverse();return o.matrixTransform(a)}catch(u){return i}}},{key:"translateCenterToPoint",value:function(){}},{key:"translateAndAutoOrient",value:function(){}},{key:"animateAlongPath",value:function(){}},{key:"sample",value:function(e){e=e||1;for(var t=this.node,n=t.getTotalLength(),r=0,i=[];n>r;){var o=t.getPointAtLength(r);i.push({x:o.x,y:o.y,distance:r}),r+=e}return i}},{key:"toPath",value:function(){var e=this,t=s(p.createSvgElement("path")),n=e.toPathData();return t.attr(e.attr()),n&&t.attr("d",n),t}},{key:"toPathData",value:function(){var e=this,t=e.node,n=t.tagName.toLowerCase();if("path"===n)return e.attr("d");var r=p[n+"ToPathData"];if(p.isFunction(r))return r(t);throw new Error(n+" cannot be converted to PATH.")}},{key:"findIntersection",value:function(e,t){var n=this,r=n.svg().node;t=t||r;var i=g["default"].fromRect(n.bbox(!1,t)),o=i.getCenter(),a=i.intersectionWithLineFromCenterToPoint(e);if(a){var u=n.node.localName.toUpperCase();if("RECT"===u){var l=new g["default"](parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),s=f(n.node,t),c=P.decomposeMatrix(s),d=r.createSVGTransform();d.setRotate(-c.rotation,o.x,o.y);var h=P.transformRect(l,d.matrix.multiply(s));a=g["default"].fromRect(h).intersectionWithLineFromCenterToPoint(e,c.rotation)}else if("PATH"===u||"POLYGON"===u||"POLYLINE"===u||"CIRCLE"===u||"ELLIPSE"===u){for(var v="PATH"===u?n:n.toPath(),p=v.sample(),y=1/0,m=[],x=0,w=p.length;w>x;x++){var k=p[x],O=P.createSVGPoint(k.x,k.y);O=O.matrixTransform(f(this.node,t)),k=b["default"].fromPoint(O);var _=k.distance(o),C=1.1*k.distance(e),j=_+C;y>j?(y=j,m=[{sample:k,refDistance:C}]):y+1>j&&m.push({sample:k,refDistance:C})}m.sort(function(e,t){return e.refDistance-t.refDistance}),a=m[0].sample}return a}}}]),e}(),P=O.createElement=d,_=d("svg").node;P.isVElement=function(e){return e instanceof O},P.createSVGMatrix=function(e){var t=_.createSVGMatrix();for(var n in e)t[n]=e[n];return t},P.createSVGTransform=function(){return _.createSVGTransform()},P.createSVGPoint=function(e,t){var n=_.createSVGPoint();return n.x=e,n.y=t,n},P.transformRect=function(e,t){var n=_.createSVGPoint();n.x=e.x,n.y=e.y;var r=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y;var i=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y+e.height;var o=n.matrixTransform(t);n.x=e.x,n.y=e.y+e.height;var a=n.matrixTransform(t),u=Math.min(r.x,i.x,o.x,a.x),l=Math.max(r.x,i.x,o.x,a.x),f=Math.min(r.y,i.y,o.y,a.y),s=Math.max(r.y,i.y,o.y,a.y);return{x:u,y:f,width:l-u,height:s-f}},P.styleToObject=function(e){var t={};return p.forEach(e.split(";"),function(e){var n=e.split("=");t[p.trim(n[0])]=p.trim(n[1])}),t},t["default"]=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=i(u),f=n(15),s=r(f),c=n(16),d=r(c),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];o(this,e);var a=this;a.x=t,a.y=n,a.width=r,a.height=i}return a(e,[{key:"getOrigin",value:function(){return new s["default"](this.x,this.y)}},{key:"getCenter",value:function(){return new s["default"](this.x+this.width/2,this.y+this.height/2)}},{key:"getCorner",value:function(){return new s["default"](this.x+this.width,this.y+this.height)}},{key:"getTopRight",value:function(){return new s["default"](this.x+this.width,this.y)}},{key:"getBottomLeft",value:function(){return new s["default"](this.x,this.y+this.height)}},{key:"getNearestSideToPoint",value:function(e){var t=this,n=e.x-t.x,r=e.y-t.y,i=t.x+t.width-e.x,o=t.y+t.height-e.y,a=n,u="left";return a>i&&(a=i,u="right"),a>r&&(a=r,u="top"),a>o&&(u="bottom"),u}},{key:"getNearestPointToPoint",value:function(e){var t=this;if(t.containsPoint(e)){var n=t.getNearestSideToPoint(e);if("right"===n)return new s["default"](t.x+t.width,e.y);if("left"===n)return new s["default"](t.x,e.y);if("bottom"===n)return new s["default"](e.x,t.y+t.height);if("top"===n)return new s["default"](e.x,t.y)}return e.adhereToRect(t)}},{key:"containsPoint",value:function(e){var t=this;return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}},{key:"containsRect",value:function(e){var t=this;t.normalize(),e.normalize();var n=e.x,r=e.y,i=e.width,o=e.height,a=t.x,u=t.y,l=t.width,f=t.height;return n>=a&&r>=u&&a+l>=n+i&&u+f>=r+o}},{key:"intersect",value:function(t){var n=this,r=n.getOrigin(),i=n.getCorner(),o=t.getOrigin(),a=t.getCorner();if(r.x>=a.x||r.y>=a.y||o.x>=i.x||o.y>=i.y)return null;var u=Math.max(r.x,o.x),l=Math.max(r.y,o.y),f=Math.min(i.x,a.x)-u,s=Math.min(i.y,a.y)-l;return new e(u,l,f,s)}},{key:"intersectionWithLineFromCenterToPoint",value:function(e,t){var n=this,r=void 0,i=n.getCenter();t&&e.rotate(i,t);for(var o=[new d["default"](n.getOrigin(),n.getTopRight()),new d["default"](n.getTopRight(),n.getCorner()),new d["default"](n.getCorner(),n.getBottomLeft()),new d["default"](n.getBottomLeft(),n.getOrigin())],a=new d["default"](i,e),u=o.length-1;u>=0;--u){var l=o[u].intersection(a);if(l){r=l;break}}return r&&t&&r.rotate(i,-t),r}},{key:"moveAndExpand",value:function(e){var t=this;return t.x+=e.x||0,t.y+=e.y||0,t.width+=e.width||0,t.height+=e.height||0,t}},{key:"round",value:function(e){var t=this,n=t.x,r=t.y,i=t.width,o=t.height;return t.x=e?l.toFixed(n,e):Math.round(n),t.y=e?l.toFixed(r,e):Math.round(r),t.width=e?l.toFixed(i,e):Math.round(i),t.height=e?l.toFixed(o,e):Math.round(o),t}},{key:"normalize",value:function(){var e=this,t=e.x,n=e.y,r=e.width,i=e.height;return 0>r&&(t+=r,r=-r),0>i&&(n+=i,i=-i),e.x=t,e.y=n,e.width=r,e.height=i,e}},{key:"getBBox",value:function(t){var n=this,r=l.toRad(t||0),i=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r)),a=n.width*o+n.height*i,u=n.width*i+n.height*o;return new e(n.x+(n.width-a)/2,n.y+(n.height-u)/2,a,u)}},{key:"snapToGrid",value:function(e,t){var n=this,r=n.getOrigin(),i=n.getCorner();return r=r.snapToGrid(e,t),i=i.snapToGrid(e,t),n.x=r.x,n.y=r.y,n.width=i.x-r.x,n.height=i.y-r.y,n}},{key:"equals",value:function(t){return e.equals(this,t)}},{key:"valueOf",value:function(){return[this.x,this.y,this.width,this.height]}},{key:"toString",value:function(){return this.valueOf().join(", ")}},{key:"clone",value:function(){return e.fromRect(this)}}],[{key:"equals",value:function(t,n){var r=t&&n&&t instanceof e&&n instanceof e;return r&&(t.normalize(),n.normalize(),r=t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height),r}},{key:"fromRect",value:function(t){return new e(t.x,t.y,t.width,t.height)}}]),e}();t["default"]=h},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=r(a),l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];i(this,e);var r=this;r.x=t,r.y=n}return o(e,[{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this;return n.x=e,n.y=t,n}},{key:"rotate",value:function(t,n){
n=(n+360)%360;var r=this;r.toPolar(t),r.y+=u.toRad(n);var i=e.fromPolar(r.x,r.y,t);return r.x=i.x,r.y=i.y,r}},{key:"translate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=this;return n.x+=e,n.y+=t,n}},{key:"move",value:function(e,t){var n=this,r=u.toRad(e.theta(n));return n.translate(Math.cos(r)*t,-Math.sin(r)*t)}},{key:"reflect",value:function(e){return e.move(this,this.distance(e))}},{key:"round",value:function(e){var t=this;return t.x=e?u.toFixed(t.x,e):Math.round(t.x),t.y=e?u.toFixed(t.y,e):Math.round(t.y),t}},{key:"smooth",value:function(){return thi.round(2)}},{key:"diff",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"theta",value:function(t){t=t||new e;var n=-(t.y-this.y),r=t.x-this.x,i=10,o=0===u.toFixed(r,i)&&0===u.toFixed(n,i)?0:Math.atan2(n,r);return 0>o&&(o=2*Math.PI+o),u.toDeg(o)}},{key:"distance",value:function(t){t=t||new e;var n=t.x-this.x,r=t.y-this.y;return Math.sqrt(n*n+r*r)}},{key:"manhattanDistance",value:function(t){return t=t||new e,Math.abs(t.x-this.x)+Math.abs(t.y-this.y)}},{key:"toPolar",value:function(t){t=t||new e(0,0);var n=this,r=n.x,i=n.y;return n.x=Math.sqrt((r-t.x)*(r-t.x)+(i-t.y)*(i-t.y)),n.y=u.toRad(t.theta(new e(r,i))),n}},{key:"normalize",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],n=this,r=n.x,i=n.y;if(0===r&&0===i)return n;var o=void 0;return o=0===r?t/i:0===i?t/r:t/n.distance(new e),n.x=o*r,n.y=o*i,n}},{key:"changeInAngle",value:function(e,t,n){return this.translate(-e,-t).theta(n)-this.theta(n)}},{key:"snapToGrid",value:function(e,t){var n=this;return n.x=u.snapToGrid(n.x,e),n.y=u.snapToGrid(n.y,t||e),n}},{key:"adhereToRect",value:function(e){var t=this;return e.containsPoint(t)?t:(t.x=Math.min(Math.max(t.x,e.x),e.x+e.width),t.y=Math.min(Math.max(t.y,e.y),e.y+e.height),t)}},{key:"valueOf",value:function(){return[this.x,this.y]}},{key:"toString",value:function(){return this.valueOf().join(", ")}},{key:"equals",value:function(t){return e.equals(this,t)}},{key:"clone",value:function(){return e.fromPoint(this)}}],[{key:"equals",value:function(t,n){return t&&n&&t instanceof e&&n instanceof e&&t.x===n.x&&t.y===n.y}},{key:"random",value:function(t,n,r,i){var o=Math.floor(Math.random()*(n-t+1)+t),a=Math.floor(Math.random()*(i-r+1)+r);return new e(o,a)}},{key:"fromPoint",value:function(t){return new e(t.x,t.y)}},{key:"fromPolar",value:function(t,n,r){r=r||new e(0,0);var i=Math.abs(t*Math.cos(n)),o=Math.abs(t*Math.sin(n)),a=u.normalizeAngle(u.toDeg(n));return 90>a?o=-o:180>a?(i=-i,o=-o):270>a&&(i=-i),new e(r.x+i,r.y+o)}},{key:"fromString",value:function(t){var n=t.split(-1===t.indexOf("@")?" ":"@");return new e(u.toFloat(n[0]),u.toFloat(n[1]))}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=i(u),f=n(15),s=r(f),c=function(){function e(t,n){o(this,e);var r=this;if(!t)throw new Error("The start point of line must be specified.");if(!n)throw new Error("The end point of line must be specified.");r.start=t,r.end=n}return a(e,[{key:"getLength",value:function(){return Math.sqrt(this.getSquaredLength())}},{key:"getSquaredLength",value:function(){var e=this,t=e.end.x-e.start.x,n=e.end.y-e.end.x;return t*t+n*n}},{key:"getMidpoint",value:function(){var e=this,t=(e.start.x+e.end.x)/2,n=(e.start.y+e.end.y)/2;return new s["default"](t,n)}},{key:"getPointAt",value:function(e){var t=this,n=(1-e)*t.start.x+e*t.end.x,r=(1-e)*t.start.y+e*t.end.y;return new s["default"](n,r)}},{key:"intersection",value:function(e){var t=this,n=t.start,r=t.end,i=e.start,o=e.end,a=new s["default"](r.x-n.x,r.y-n.y),u=new s["default"](o.x-i.x,o.y-i.y),l=a.x*u.y-a.y*u.x,f=new s["default"](i.x-n.x,i.y-n.y),c=f.x*u.y-f.y*u.x,d=f.x*a.y-f.y*a.x;if(0===l||0>c*l||0>d*l)return null;if(l>0){if(c>l||d>l)return null}else if(l>c||l>d)return null;return new s["default"](n.x+c*a.x/l,n.y+c*a.y/l)}},{key:"getDirection",value:function(){var e=this,t=e.start,n=e.end,r=l.toRad(t.y),i=l.toRad(n.y),o=t.x,a=n.x,u=l.toRad(a-o),f=Math.sin(u)*Math.cos(i),s=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(u),c=l.toDeg(Math.atan2(f,s)),d=["NE","E","SE","S","SW","W","NW","N"],h=c-22.5;return 0>h&&(h+=360),h=l.toInt(h/45),d[h]}},{key:"pointOffset",value:function(e){var t=this,n=t.start,r=t.end;return((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x))/2}},{key:"valueOf",value:function(){return[this.satrt.valueOf(),this.end.valueOf()]}},{key:"toString",value:function(){return this.start.toString()+" "+this.end.toString()}},{key:"equals",value:function(t){return e.equals(this,t)}},{key:"clone",value:function(){return e.fromLine(this)}}],[{key:"equals",value:function(t,n){return t&&n&&t instanceof e&&n instanceof e&&(t.start&&t.start.equals(n.start)||!t.start&&!n.start)&&(t.end&&t.end.equals(n.end)||!t.end&&!n.end)}},{key:"fromLine",value:function(t){return new e(t.start.clone(),t.end.clone())}}]),e}();t["default"]=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){for(var r=!0,i=0,o=e.length;o>i;i+=2)r=l.invoke(e[i],t,e[i+1]||n)&&r;return r}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=r(u),f=/\s+/,s=function(){function e(){i(this,e)}return a(e,[{key:"on",value:function(e,t,n){var r=this;if(!t)return r;var i=r.__events||(r.__events={});return e=e.split(f),l.forEach(e,function(e){var r=i[e]||(i[e]=[]);r.push(t,n)}),r}},{key:"once",value:function(e,t,n){var r=this,i=function o(){r.off(e,o),t.apply(n||r,arguments)};return r.on(e,i,n)}},{key:"off",value:function(e,t,n){var r=this,i=r.__events;return i?e||t||n?(e=e?e.split(f):l.keys(i),l.forEach(e,function(e){var r=i[e];if(r){if(!t&&!n)return void delete i[e];for(var o=r.length-2;o>=0;o-=2)t&&r[o]!==t||n&&r[o+1]!==n||r.splice(o,2)}}),r):(delete r.__events,r):r}},{key:"trigger",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];var i=this,a=i.__events;if(!a||!e)return null;var u=!0,s=a["*"];return l.forEach(e.split(f),function(e){var t=void 0;"*"!==e&&(t=a[e],t&&o(t,n,i)),s&&o(s,[e].concat(n),i)}),u}}]),e}();t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),f=n(17),s=r(f),c=n(19),d=r(c),h=n(20),v=r(h),p=n(22),y=r(p),g=n(23),m=r(g),b=n(24),x=r(b),w=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this)),r=n;return r.nextId=0,r.updateLevel=0,r.endingUpdate=!1,r.changes=new x["default"](r),e?r.setRoot(e):r.clear(),n}return a(t,e),u(t,[{key:"clear",value:function(){return this.setRoot(this.createRoot())}},{key:"getDefaultParent",value:function(){return this.getRoot().getChildAt(0)}},{key:"isAncestor",value:function(e,t){if(!e||!t)return!1;for(;t&&t!==e;)t=t.parent;return t===e}},{key:"isOrphan",value:function(e){return!(!e||!e.parent)}},{key:"contains",value:function(e){return this.isAncestor(this.root,e)}},{key:"getCellById",value:function(e){return this.cells?this.cells[e]:null}},{key:"createCellId",value:function(){var e=this,t=e.nextId;return e.nextId+=1,"cell-"+t}},{key:"getAncestors",value:function(e){var t=this,n=[],r=e?e.parent:null;return r&&(n.push(r),n=n.concat(t.getAncestors(r))),n}},{key:"getDescendants",value:function(e){var t=this,n=[];return e=e||t.getRoot(),e.eachChild(function(e){n.push(e),n=n.concat(t.getDescendants(e))}),n}},{key:"getParents",value:function(e){var t=[];return e&&!function(){var n={};each(e,function(e){var r=e.parent;if(r){var i=cellRoute.create(r);n[i]||(n[i]=r,t.push(r))}})}(),t}},{key:"isRoot",value:function(e){return e&&this.root===e}},{key:"createRoot",value:function(){var e=new d["default"];return e.insertChild(this.createLayer()),e}},{key:"getRoot",value:function(e){var t=e||this.root;if(e)for(;e;)t=e,e=e.parent;return t}},{key:"setRoot",value:function(e){return this.digest(new v["default"](this,e))}},{key:"rootChanged",value:function(e){var t=this,n=t.root;return t.root=e,t.cells=null,t.nextId=0,t.cellAdded(e),n}},{key:"isLayer",value:function(e){return e&&this.isRoot(e.parent)}},{key:"getLayers",value:function(){return this.getRoot().children||[]}},{key:"createLayer",value:function(){return new d["default"]}},{key:"getParent",value:function(e){return e?e.parent:null}},{key:"addNode",value:function(e,t,n){return this.addCells([e],t,n)}},{key:"addLink",value:function(e,t,n,r,i){return this.addCells([e],r,i,t,n)}},{key:"addCell",value:function(e,t,n,r,i){return this.addCells([e],t,n,r,i)}},{key:"addCells",value:function(e,t,n,r,i){var o=this;t=t||o.getDefaultParent(),n=(0,l.fixIndex)(n,t.getChildCount()),o.beginUpdate();try{(0,l.forEach)(e,function(e){if(e){if(e!==t){e.parent!==t;o.digest(new y["default"](o,t,e,n)),n++}r&&o.cellConnected(e,r,!0),i&&o.cellConnected(e,i,!1)}})}finally{o.endUpdate()}return o}},{key:"cellConnected",value:function(e,t,n){var r=this;if(e){r.beginUpdate();try{r.setTerminal(e,t,n)}finally{r.endUpdate()}}return r}},{key:"childChanged",value:function(e,t,n){var r=this,i=e.parent;return t?(t!==i||i.indexOfChild(e)!==n)&&t.insertChild(e,n):i&&i.removeChild(e),t&&!r.contains(i)?r.cellAdded(e):t||r.cellRemoved(e),i}},{key:"linkChanged",value:function(e,t,n){var r=e.getTerminal(n);return t?t.addLink(e,n):r&&r.removeLink(e,n),r}},{key:"cellAdded",value:function(e){var t=this;if(e){var n=e.id||t.createCellId(e);if(n){var r=t.getCellById(n);if(r!==e){for(;r;)n=t.createCellId(e),r=t.getCellById(n);t.cells||(t.cells={}),e.id=n,t.cells[n]=e}}(0,l.isNumeric)(n)&&(t.nextId=Math.max(t.nextId,n)),e.eachChild(t.cellAdded,t)}}},{key:"updateLinkParents",value:function(e,t){var n=this;t=t||n.getRoot(e),e.eachChild(function(e){n.updateLinkParents(e,t)}),e.eachLink(function(e){n.isAncestor(t,e)&&n.updateLinkParent(e,t)})}},{key:"updateLinkParent",value:function(e,t){for(var n=this,r=null,i=e.getTerminal(!0),o=e.getTerminal(!1);i&&!i.isLink&&i.geometry&&i.geometry.relative;)i=i.parent;for(;o&&!o.isLink&&o.geometry&&o.geometry.relative;)o=o.parent;if(n.isAncestor(t,i)&&n.isAncestor(t,o)&&(r=i===o?i.parent:n.getNearestCommonAncestor(i,o),r&&(r.parent!==n.root||n.isAncestor(r,e))&&e.parent!==r)){var a=e.geometry;if(a){var u=n.getOrigin(e.parent),l=n.getOrigin(r),f=l.x-u.x,s=l.y-u.y;a=a.clone(),a.translate(-f,-s),n.setGeometry(e,a)}n.add(r,e)}}},{key:"getNearestCommonAncestor",value:function(e,t){if(e&&t){var n=cellRoute.create(e),r=cellRoute.create(t);if(n&&r){var i=e,o=r,a=n;for(n.length>r.length&&(i=t,o=n,a=r);i;){var u=i.parent;if(0===o.indexOf(a+cellRoute.separator)&&u)return i;i=u,a=cellRoute.getParentRoute(a)}}}return null}},{key:"remove",value:function(e){var t=this;return e&&(e===t.root?t.setRoot(null):e.parent&&t.digest(new y["default"](t,null,e))),e}},{key:"cellRemoved",value:function(e){var t=this;if(e){e.eachChild(function(e){t.cellRemoved(e)});var n=e.id,r=t.cells;r&&n&&delete r[n]}}},{key:"getChildNodes",value:function(e){return this.getChildCells(e,!0,!1)}},{key:"getChildLinks",value:function(e){return this.getChildCells(e,!1,!0)}},{key:"getChildCells",value:function(e,t,n){return e?e.filterChild(function(e){return t&&e.isNode||n&&e.isLink}):[]}},{key:"getTerminal",value:function(e,t){return e?e.getTerminal(t):null}},{key:"setTerminal",value:function(e,t,n){var r=this;t!=r.getTerminal(e,n);return r.digest(new m["default"](r,e,t,n)),r}},{key:"setTerminals",value:function(e,t,n){var r=this;r.beginUpdate();try{r.setTerminal(e,t,!0),r.setTerminal(e,n,!1)}finally{r.endUpdate()}return r}},{key:"terminalChanged",value:function(e,t,n){var r=this,i=r.getTerminal(e,n);return t?t.addLink(e,n):i&&i.removeLink(e,n),i}},{key:"digest",value:function(e){var t=this;return e.digest(),t.beginUpdate(),t.changes.add(e),t.endUpdate(),t}},{key:"beginUpdate",value:function(){var e=this;e.updateLevel+=1,e.trigger("beginUpdate"),1===e.updateLevel&&e.trigger("startEdit")}},{key:"endUpdate",value:function(){var e=this;if(e.updateLevel-=1,0===e.updateLevel&&e.trigger("endEdit"),!e.endingUpdate){var t=e.changes;e.endingUpdate=0===e.updateLevel,e.trigger("endUpdate",t.changes),e.endingUpdate&&t.hasChange()&&t.notify().clear(),e.endingUpdate=!1}}}]),t}(s["default"]);t["default"]=w},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=r(a),l=function(){function e(){i(this,e)}return o(e,[{key:"getTerminal",value:function(e){return e?this.source:this.target}},{key:"setTerminal",value:function(e,t){var n=this;return t?n.source=e:n.target=e,n}},{key:"removeFromTerminal",value:function(e){var t=this,n=t.getTerminal(e);return n&&n.removeLink(t,e),t}},{key:"getChildCount",value:function(){return this.children?this.children.length:0}},{key:"indexOfChild",value:function(e){return u.indexOf(this.children,e)}},{key:"getChildAt",value:function(e){return this.children?this.children[e]:null}},{key:"eachChild",value:function(e,t){return u.forEach(this.children,e,t)}},{key:"filterChild",value:function(e,t){return u.filter(this.children,e,t)}},{key:"insertChild",value:function(e,t){var n=this;if(e){var r=n.getChildCount();t=u.fixIndex(t,r),e.parent===n&&t===r&&t--,e.removeFromParent(),e.parent=n;var i=n.children;i?i.splice(t,0,e):(i=n.children=[],i.push(e))}return n}},{key:"removeChild",value:function(e){return this.removeChildAt(this.indexOfChild(e))}},{key:"removeChildAt",value:function(e){var t=this,n=null,r=t.children;return r&&e>=0&&(n=t.getChildAt(e),n&&(r.splice(e,1),n.parent=null)),n}},{key:"getLinkCount",value:function(){return this.links?this.links.length:0}},{key:"indexOfLink",value:function(e){return u.indexOf(this.links,e)}},{key:"getLinkAt",value:function(e){return this.links?this.links[e]:null}},{key:"eachLink",value:function(e,t){return u.forEach(this.links,e,t)}},{key:"filterLink",value:function(e,t){return u.filter(this.links,e,t)}},{key:"addLink",value:function(e,t){var n=this,r=n.links;return e&&(e.removeFromTerminal(t),e.setTerminal(n,t),(!r||n.indexOfLink(e)<0||e.getTerminal(!t)!==n)&&(r||(r=n.links=[]),r.push(e))),n}},{key:"removeLink",value:function(e,t){var n=this,r=n.links;if(e){if(r&&e.getTerminal(!t)!==n){var i=n.indexOfLink(e);i>=0&&r.splice(i,1)}e.setTerminal(null,t)}return e}},{key:"getParent",value:function(){return this.parent}},{key:"removeFromParent",value:function(){var e=this,t=e.parent;return t&&t.removeChild(e),e}},{key:"valueOf",value:function(){}},{key:"toString",value:function(){}},{key:"cloneData",value:function(){var e=this.data;if(e){if(e.clone&&u.isFunction(e.clone))return e.clone();if(u.isNode(e))return e.cloneNode(!0);if(u.isObject(e))return u.merge({},e)}return e}},{key:"clone",value:function(t){var n=this,r=u.merge({},n.metadata);return r.data=t===!0?n.cloneData():n.data,r.visible=n.visible,new e(r)}},{key:"destroy",value:function(){}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(21),f=r(l),s=function(e){function t(e,n){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this)),a=r;return a.model=e,a.root=n,a.previous=n,r}return a(t,e),u(t,[{key:"digest",value:function(){var e=this,t=e.model,n=e.previous;return e.root=n,e.previous=t.rootChanged(n),e}}]),t}(f["default"]);t["default"]=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){n(this,e)}return r(e,[{key:"digest",value:function(){return this}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(21),f=r(l),s=function(e){function t(e,n,r,a){i(this,t);var u=o(this,Object.getPrototypeOf(t).call(this)),l=u;return l.model=e,l.child=r,l.parent=n,l.index=a,l.previous=n,l.previousIndex=a,u}return a(t,e),u(t,[{key:"digest",value:function(){var e=this,t=e.model,n=e.child,r=e.previous,i=e.previousIndex,o=n.parent,a=o?o.indexOfChild(n):0;return r||e.connect(n,!1),o=t.childChanged(n,r,i),r&&e.connect(n,!0),e.parent=r,e.index=i,e.previous=o,e.previousIndex=a,e}},{key:"connect",value:function(e,t){var n=this,r=n.model;if(e.isLink){var i=e.getTerminal(!0),o=e.getTerminal(!1);i&&r.linkChanged(e,t?i:null,!0),o&&r.linkChanged(e,t?o:null,!1),e.setTerminal(i,!0),e.setTerminal(o,!1)}return e.eachChild(function(e){n.connect(e,t)}),n}}]),t}(f["default"]);t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(21),f=r(l),s=function(e){function t(e,n,r,a){i(this,t);var u=o(this,Object.getPrototypeOf(t).call(this)),l=u;return l.model=e,l.link=n,l.terminal=r,l.previous=r,l.isSource=a,u}return a(t,e),u(t,[{key:"digest",value:function(){var e=this;return e.terminal=e.previous,e.previous=e.model.terminalChanged(e.link,e.previous,e.isSource),e}}]),t}(f["default"]);t["default"]=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){n(this,e),this.model=t}return r(e,[{key:"hasChange",value:function(){var e=this.changes;return e&&e.length}},{key:"add",value:function(e){var t=this,n=t.changes;return e&&(n||(n=t.changes=[]),n.push(e)),e}},{key:"clear",value:function(){return this.changes=null,this}},{key:"notify",value:function(){var e=this;return e.model.trigger("change",e.changes),e}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),s=i(f),c=n(17),d=r(c),h=n(13),v=r(h),p=n(26),y=r(p),g=n(15),m=r(g),b=n(14),x=r(b),w=n(18),k=r(w),O=n(19),P=r(O),_=n(27),C=r(_),j=n(30),M=r(j),E=n(20),T=r(E),S=n(22),F=r(S),N=n(23),L=r(N),R=0,A={x:0,y:0,width:"100%",height:"100%",gridSize:1,viewportClassName:"pane-viewport",linkClassName:"",nodeClassName:"",getCellClassName:function(e){},getView:function(e){}},I=function(e){function t(e,n,r){o(this,t);var i=a(this,Object.getPrototypeOf(t).call(this)),u=i;return u.id="paper"+R++,u.model=n||new k["default"],u.configure(r),e&&u.init(e).setup().resize().translate(),i}return u(t,e),l(t,[{key:"configure",value:function(e){var t=this;return t.options=s.merge({},A,e),t.trigger("paper:configure",t.options),t}},{key:"snapToGrid",value:function(e){var t=this,n=t.options.gridSize||1,r=(0,v["default"])(t.drawPane).toLocalPoint(e.x,e.y);return{x:s.snapToGrid(r.x,n),y:s.snapToGrid(r.y,n)}}},{key:"toLocalPoint",value:function(e){var t=this,n=t.svg,r=n.createSVGPoint();if(r.x=e.x,r.y=e.y,y["default"].IS_FF){var i=(0,v["default"])("rect",{width:t.options.width,height:t.options.height,x:0,y:0,opacity:0});n.appendChild(i.node)}var o=s.getOffset(n);y["default"].IS_FF&&fakeRect.remove();var a=document,u=a.body,l=a.documentElement,f=u.scrollTop||l.scrollTop,c=u.scrollLeft||l.scrollLeft;return r.x+=c-o.left,r.y+=f-o.top,r.matrixTransform(t.drawPane.getCTM().inverse())}},{key:"init",value:function(e){var t=this;if(e){var n=s.createSvgDocument(),r=s.createSvgElement("g"),i=s.createSvgElement("g"),o=s.createSvgElement("g");r.appendChild(i),r.appendChild(o),n.appendChild(r),e.appendChild(n),t.svg=n,t.root=r,t.backgroundPane=i,t.drawPane=o,t.container=e,t.trigger("paper:init",e)}return t}},{key:"setup",value:function(){var e=this,t=e.svg;return s.addEventListener(t,"contextmenu",e.onContextMenu.bind(e)),s.addEventListener(t,"dblclick",e.onDblClick.bind(e)),s.addEventListener(t,"click",e.onClick.bind(e)),s.addEventListener(t,"mousedown",e.onPointerDown.bind(e)),s.addEventListener(t,"touchstart",e.onPointerDown.bind(e)),s.addEventListener(t,"mousemove",e.onPointerMove.bind(e)),s.addEventListener(t,"touchmove",e.onPointerMove.bind(e)),s.addEventListener(t,"mouseover",".pane-element",e.onCellMouseOver.bind(e)),s.addEventListener(t,"mouseout",".pane-element",e.onCellMouseOut.bind(e)),s.addEventListener(t,"mouseover",".pane-link",e.onCellMouseOver.bind(e)),s.addEventListener(t,"mouseout",".pane-link",e.onCellMouseOut.bind(e)),y["default"].IS_POINTER&&(e.container.style.msTouchAction="none"),e.model.on("change",e.processChanges,e),e.trigger("paper:setup"),e}},{key:"remove",value:function(){}},{key:"destroy",value:function(){var e=this;return e.trigger("paper:destroy"),e}},{key:"reValidate",value:function(){return this.invalidate().validate()}},{key:"clear",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],r=this,i=r.model;return e=e||i.getRoot(),r.removeState(e),n&&(t||e!==r.currentRoot)?e.eachChild(function(e){r.clear(e,t,n)}):r.invalidate(e,!0,!0),r}},{key:"invalidate",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],r=this,i=r.model;e=e||i.getRoot();var o=r.getView(e);return o&&(o.invalid=!0),e.invalidating||(e.invalidating=!0,t&&e.eachChild(function(e){r.invalidate(e,t,n)}),n&&e.eachLink(function(e){r.invalidate(e,t,n)}),e.invalidating=!1),r}},{key:"validate",value:function(e){var t=this;return e=e||t.model.getRoot(),t.validateCell(e).validateView(e),t}},{key:"validateCell",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=this;if(e){t=t&&e.visible;var r=n.getView(e,t);r&&!t&&n.removeView(e),e.eachChild(function(e){n.validateCell(e,t)})}return n}},{key:"validateView",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=this;if(e){var r=n.getView(e);r&&r.invalid&&(r.invalid=!1,n.validateView(e.getParent(),!1).updateCellGeometry(e).renderView(e)),t&&e.eachChild(function(e){n.validateView(e,t)})}return n}},{key:"updateCellGeometry",value:function(e){return e.isNode?this.updateNodeGeometry(e):e.isLink?this.updateLinkGeometry(e):this}},{key:"updateNodeGeometry",value:function(e){return this.updateNodeSize(e).updateNodePosition(e).updateNodeRotation(e)}},{key:"updateNodeSize",value:function(e){if(e&&e.isNode){var t=e.metadata.size||{},n=s.isUndefined(t.width)?1:t.width,r=s.isUndefined(t.height)?1:t.height,i=e.parent;if(t.relative&&i&&i.isNode){var o=i.size,a=s.isPercentage(n);n=s.fixNumber(n,a,0),a||n>0&&1>n?n*=o.width:n+=o.width,a=s.isPercentage(r),r=s.fixNumber(r,a,0),a||r>0&&1>r?r*=o.height:r+=o.height}else n=s.fixNumber(n,!1,1),r=s.fixNumber(r,!1,1);e.size={width:Math.max(n,1),height:Math.max(r,1)}}return this}},{key:"updateNodePosition",value:function(e){if(e&&e.isNode){var t=e.metadata.position||{},n=s.isUndefined(t.x)?0:t.x,r=s.isUndefined(t.y)?0:t.y,i=e.parent;if(t.relative&&i&&i.isNode){var o=i.size,a=i.position,u=s.isPercentage(n);n=s.fixNumber(n,u,0),u||n>-1&&1>n?n=a.x+o.width*n:n+=a.x,u=s.isPercentage(r),r=s.fixNumber(r,u,0),u||r>-1&&1>r?r=a.y+o.height*r:r+=a.y}else n=s.fixNumber(n,!1,0),r=s.fixNumber(r,!1,0);e.position={x:n,y:r}}return this}},{key:"updateNodeRotation",value:function(e){if(e&&e.isNode){var t=e.parent,n=e.metadata.rotation||{},r=s.fixNumber(n.angle,!1,0);if(n.inherited&&t&&t.isNode&&0!==t.rotation){var i=e.size,o=e.position,a=new m["default"](o.x+i.width/2,o.y+i.height/2),u=t.size,l=t.position,f=new m["default"](l.x+u.width/2,l.y+u.height/2);a.rotate(f,-t.rotation),o.x=a.x-i.width/2,o.y=a.y-i.height/2,r+=t.rotation}e.rotation=r}return this}},{key:"updateLinkGeometry",value:function(e){var t=this;return e.routerPoints=t.parseRouter(e),e.sourcePoint=t.getConnectionPoint(e,!0),e.targetPoint=t.getConnectionPoint(e,!1),t}},{key:"parseRouter",value:function(e){var t=this,n=e.router||t.options.defaultRouter,r=e.vertices||[];if(!n)return r;var i=void 0,o={};if(s.isFunction(n))i=n;else{var a=void 0;if(s.isObject(n)?(a=n.name,o=n.options):a=""+n,i=t.getRouter(a),!s.isFunction(i))throw new Error('Unknown router: "'+a+'"')}return i.call(this,r,o)}},{key:"getConnectionPoint",value:function(e,t){var n=this.model,r=void 0,i=n.getTerminal(e,t);if(i){var o=new x["default"](i.position.x,i.position.y,i.size.width,i.size.height),a=e.routerPoints||[],u=t?a[0]:a[a.length-1];if(!u){var l=e.getTerminal(!t);if(l){var f=new x["default"](l.position.x,l.position.y,l.size.width,l.size.height);u=f.intersectionWithLineFromCenterToPoint(o.getCenter()),u=u||f.getCenter()}}u||(u=t?e.targetPoint:e.sourcePoint),u&&(r=o.intersectionWithLineFromCenterToPoint(u)),r=r||o.getCenter()}else r=t?e.sourcePoint:e.targetPoint;return r}},{key:"resize",value:function(e,t,n){var r=this,i=r.options,o=i.width,a=i.height;if(e=s.isUndefined(e)?o:e,t=s.isUndefined(t)?a:t,n===!0){var u=r.svg,l=s.isPercentage(e),f=s.isPercentage(o);l?e=f?s.toFloat(e,!1,0)+s.toFloat(o,!1,0)+"%":s.toFloat(e,!0,1)*o:e+=f?u.offsetWidth:o,l=s.isPercentage(t),f=s.isPercentage(a),l?t=f?s.toFloat(t,!1,0)+s.toFloat(a,!1,0)+"%":s.toFloat(t,!0,1)*a:t+=f?u.offsetHeight:a}return i.width=e,i.height=t,(0,v["default"])(r.svg).attr({width:e,height:t}),r.trigger("paper:resize",e,t),r}},{key:"resizeTo",value:function(e,t){return this.resize(e,t,!1)}},{key:"resizeBy",value:function(e,t){return this.resize(e,t,!0)}},{key:"translate",value:function(e,t,n){var r=this,i=r.options;return e=i.x=e||i.x,t=i.y=t||i.y,(0,v["default"])(r.root).translate(e,t,n),r.trigger("paper:translate",e,t),r}},{key:"translateTo",value:function(e,t){return this.translate(e,t,!0)}},{key:"translateBy",value:function(e,t){}},{key:"scale",value:function(e,t){arguments.length<=2||void 0===arguments[2]?0:arguments[2],arguments.length<=3||void 0===arguments[3]?0:arguments[3]}},{key:"getView",value:function(e,t){var n=this,r=n.views;if(e){var i=r?r[e.id]:null;return!i&&t&&e.visible&&(i=n.createView(e)),i}}},{key:"createView",value:function(e){var t=this,n=t.options,r=n.getView.call(t,e);if(r||(r=e.isLink?C["default"]:e.isNode?M["default"]:null),
r){var i=new r(t,e),o=t.views;return o||(o=t.views={}),o[e.id]=i,i}}},{key:"removeView",value:function(e){var t=this,n=t.getView(e);return n&&(delete t.views[e.id],n.destroy()),t}},{key:"renderView",value:function(e){var t=this,n=t.getView(e);return n&&n.render(),t}},{key:"findViewByElem",value:function(e){var t=this,n=t.svg;for(e=s.isString(e)?n.querySelector(e):e;e&&e!==n&&e!==document;){var r=e.cellId;if(r)return t.views[r];e=e.parentNode}return null}},{key:"findViewByCell",value:function(e){var t=s.isString(e)?e:e.id;return this.views[t]}},{key:"findViewByPoint",value:function(e){}},{key:"findViewsInArea",value:function(e){}},{key:"processChanges",value:function(e){var t=this;return console.log(e),s.forEach(e,function(e){t.distributeChange(e)}),t.validate(),t}},{key:"distributeChange",value:function(e){var t=this;return e instanceof T["default"]?t.onRootChanged(e):e instanceof F["default"]?t.onChildChanged(e):e instanceof L["default"]&&t.onTerminalChange(e),t}},{key:"onRootChanged",value:function(e){}},{key:"onChildChanged",value:function(e){var t=this,n=e.parent,r=e.previous;t.invalidate(e.child,!0,!0),n!==r&&(n&&t.invalidate(n,!1,!1),r&&t.invalidate(r,!1,!1))}},{key:"onTerminalChange",value:function(e){this.invalidate(e.link)}},{key:"registerRouter",value:function(e,t){}},{key:"getRouter",value:function(e){}},{key:"getConnector",value:function(e){return this.constructor.getConnector(e)}},{key:"getMarker",value:function(e){return this.constructor.getMarker(e)}},{key:"isValidEvent",value:function(e,t){if(t&&t.cell&&t.cell instanceof P["default"])return!0;var n=this,r=n.svg,i=e.target;return r===i||s.containsElem(r,i)?!0:void 0}},{key:"onContextMenu",value:function(e){e=s.normalizeEvent(e);var t=this,n=t.findViewByElem(e.target);if(t.isValidEvent(e,n)){var r=t.snapToGrid({x:e.clientX,y:e.clientY});n?(t.sourceView=n,n.onContextMenu(e,r.x,r.y)):t.trigger("blank:contextmenu",e,r.x,r.y)}}},{key:"onDblClick",value:function(e){e.preventDefault(),e=s.normalizeEvent(e);var t=this,n=t.findViewByElem(e.target);if(t.isValidEvent(e,n)){var r=t.snapToGrid({x:e.clientX,y:e.clientY});n?n.onDblClick(e,r.x,r.y):t.trigger("blank:pointerdblclick",e,r.x,r.y)}}},{key:"onClick",value:function(e){}},{key:"onPointerDown",value:function(e){e=s.normalizeEvent(e);var t=this,n=t.findViewByElem(e.target);if(t.isValidEvent(e,n)){var r=t.snapToGrid({x:e.clientX,y:e.clientY});n?n.onPointerDown(e,r.x,r.y):t.trigger("blank:pointerDown",e,r.x,r.y)}}},{key:"onPointerMove",value:function(e){e.preventDefault(),e=s.normalizeEvent(e);var t=this,n=t.sourceView;if(n){var r=t.snapToGrid({x:e.clientX,y:e.clientY});t._mouseMoved++,n.onPointerMove(e,r.x,r.y)}}},{key:"onPointerUp",value:function(e){e=s.normalizeEvent(e);var t=this,n=t.snapToGrid({x:e.clientX,y:e.clientY}),r=t.sourceView;r?(r.onPointerUp(e,n.x,n.y),t.sourceView=null):t.trigger("blank:pointerUp",e,n.x,n.y)}},{key:"onCellMouseOver",value:function(e){e=s.normalizeEvent(e);var t=this,n=t.findViewByElem(e.target);if(n){if(!t.isValidEvent(e,n))return;n.mouseover(e)}}},{key:"onCellMouseOut",value:function(e){e=s.normalizeEvent(e);var t=this,n=t.findViewByElem(e.target);if(n){if(!t.isValidEvent(e,n))return;n.mouseout(e)}}}],[{key:"registerConnector",value:function(e,t){var n=this,r=n.connectors;return r||(r=n.connectors={}),n}},{key:"getConnector",value:function(e){var t=this.connectors;return t?t[e]:null}},{key:"registerMarker",value:function(e){}},{key:"getMarker",value:function(e){}}]),t}(d["default"]);t["default"]=I},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=navigator.userAgent,r=navigator.appVersion;t["default"]={IS_IE:n.indexOf("MSIE")>=0,IS_IE11:!!n.match(/Trident\/7\./),IS_NS:n.indexOf("Mozilla/")>=0&&n.indexOf("MSIE")<0,IS_FF:n.indexOf("Firefox/")>=0,IS_GC:n.indexOf("Chrome/")>=0,IS_SF:n.indexOf("AppleWebKit/")>=0&&n.indexOf("Chrome/")<0,IS_OP:n.indexOf("Opera/")>=0,IS_OT:n.indexOf("Presto/2.4.")<0&&n.indexOf("Presto/2.3.")<0&&n.indexOf("Presto/2.2.")<0&&n.indexOf("Presto/2.1.")<0&&n.indexOf("Presto/2.0.")<0&&n.indexOf("Presto/1.")<0,IS_MT:n.indexOf("Firefox/")>=0&&n.indexOf("Firefox/1.")<0&&n.indexOf("Firefox/2.")<0||n.indexOf("Iceweasel/")>=0&&n.indexOf("Iceweasel/1.")<0&&n.indexOf("Iceweasel/2.")<0||n.indexOf("SeaMonkey/")>=0&&n.indexOf("SeaMonkey/1.")<0||n.indexOf("Iceape/")>=0&&n.indexOf("Iceape/1.")<0,IS_IOS:!!n.match(/(iPad|iPhone|iPod)/g),IS_WIN:r.indexOf("Win")>0,IS_MAC:r.indexOf("Mac")>0,IS_TOUCH:"ontouchstart"in document.documentElement,IS_POINTER:window.navigator.msPointerEnabled||!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),s=i(f),c=n(13),d=(r(c),n(15)),h=(r(d),n(28)),v=r(h),p=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this,t=e.vel;return t.empty(),e.renderMarkup(),e.update()}},{key:"update",value:function(){return this.updateAttributes().updateConnection()}},{key:"updateAttributes",value:function(){var e=this;return s.forIn(e.cell.attrs,function(t,n){var r=[];s.isObject(t.fill)&&(e.applyGradient(n,"fill",t.fill),r.push("fill")),s.isObject(t.stroke)&&(e.applyGradient(n,"stroke",t.stroke),r.push("stroke")),s.isObject(t.filter)&&(e.applyFilter(n,t.filter),r.push("filter"));var i={};s.forIn(t,function(e,t){s.contains(r,t)||(i[t]=e)}),e.applyAttrs(n,i)}),e}},{key:"updateConnection",value:function(){var e=this;e.cell.points;return e}},{key:"parseRoute",value:function(){}}]),t}(v["default"]);t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=i(u),f=n(17),s=(r(f),n(13)),c=r(s),d=n(29),h=r(d),v=function(){function e(t,n){o(this,e);var r=this;r.cell=n,r.paper=t,r.invalid=!0,r.ensureElement()}return a(e,[{key:"ensureElement",value:function(){var e=this,t=e.cell,n=(0,c["default"])("g",{"class":t.className});return e.vel=n,e.elem=n.node,e.elem.cellId=t.id,e.paper.drawPane.appendChild(e.elem),e}},{key:"render",value:function(){return this}},{key:"update",value:function(){return this}},{key:"renderMarkup",value:function(){var e=this,t=e.cell.markup;if(!t)throw new Error("`markup` is missing while the default render() implementation is used.");return e.vel.append((0,c["default"])(t)),e}},{key:"find",value:function(e){return"."===e?[this.vel]:this.vel.find(e)}},{key:"applyAttrs",value:function(e,t){var n=this;return l.forEach(n.find(e),function(e){e.attr(t)}),n}},{key:"applyFilter",value:function(e,t){var n=this;t=t||{};var r=t.name||"",i=t.args||{},o=t.attrs,a=h["default"][r];if(!r||!a)throw new Error("Non-existing filter: "+r);var u=l.isString(e)?n.find(e):e;if(!u.length)return n;var f=n.paper,s=f.svg,d=r+"-"+f.id+"-"+l.hashCode(JSON.stringify(t));if(!s.getElementById(d)){var v=(0,c["default"])(a(i));v.attr({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3}),o&&v.attr(o),v.node.id=d,(0,c["default"])(s).getDefs().append(v)}return l.forEach(u,function(e){e.attr(t,"url(#"+d+")")}),n}},{key:"applyGradient",value:function(e,t,n){var r=this;n=n||{};var i=n.type,o=n.stops,a=n.attrs;if(!(t&&i&&o&&o.length))return r;var u=l.isString(e)?r.find(e):e;if(!u.length)return r;var f=r.paper,s=f.svg,d=i+"-"+f.id+"-"+l.hashCode(JSON.stringify(n));if(!s.getElementById(d)){var h=["<"+i+">",l.map(o,function(e){return'<stop offset="'+e.offset+'" stop-color="'+e.color+'" stop-opacity="'+(l.isFinite(e.opacity)?e.opacity:1)+'" />'}).join(""),"</"+i+">"].join(""),v=(0,c["default"])(h);a&&v.attr(a),v.node.id=d,(0,c["default"])(s).getDefs().append(v)}return l.forEach(u,function(e){e.attr(t,"url(#"+d+")")}),r}},{key:"onContextMenu",value:function(){}},{key:"onDblClick",value:function(){}},{key:"onClick",value:function(){}},{key:"onPointerDown",value:function(){}},{key:"onPointerMove",value:function(){}},{key:"onPointerUp",value:function(){}},{key:"onMouseOver",value:function(){}},{key:"onMouseOut",value:function(){}},{key:"destroy",value:function(){var e=this,t=e.elem;t&&t.parentNode&&t.parentNode.removeChild(t)}}]),e}();t["default"]=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t["default"]={outline:function(e){var t='<filter>  <feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/>  <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" />  <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" />  <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>  <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>  <feMerge>    <feMergeNode in="outline"/>    <feMergeNode in="SourceGraphic"/>  </feMerge></filter>',n=(0,r.isFinite)(e.margin)?e.margin:2,i=(0,r.isFinite)(e.width)?e.width:1;return(0,r.format)(t)({color:e.color||"blue",opacity:(0,r.isFinite)(e.opacity)?e.opacity:1,outerRadius:n+i,innerRadius:n})},highlight:function(e){var t='<filter>  <feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/>  <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/>  <feComposite result="composed" in="colored" in2="morphed" operator="in"/>  <feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/>   <feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return(0,r.format)(t)({color:e.color||"red",width:(0,r.isFinite)(e.width)?e.width:1,blur:(0,r.isFinite)(e.blur)?e.blur:0,opacity:(0,r.isFinite)(e.opacity)?e.opacity:1})},blur:function(e){var t='<filter>  <feGaussianBlur stdDeviation="${stdDeviation}"/></filter>',n=(0,r.isFinite)(e.x)?e.x:2;return(0,r.format)(t)({stdDeviation:(0,r.isFinite)(e.y)?[n,e.y]:n})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return(0,r.format)(t)({dx:e.dx||0,dy:e.dy||0,opacity:(0,r.isFinite)(e.opacity)?e.opacity:1,color:e.color||"black",blur:(0,r.isFinite)(e.blur)?e.blur:4})},grayScale:function(e){var t='<filter>  <feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({a:.2126+.7874*(1-n),b:.7152-.7152*(1-n),c:.0722-.0722*(1-n),d:.2126-.2126*(1-n),e:.7152+.2848*(1-n),f:.0722-.0722*(1-n),g:.2126-.2126*(1-n),h:.0722+.9278*(1-n)})},sepia:function(e){var t='<filter>  <feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({a:.393+.607*(1-n),b:.769-.769*(1-n),c:.189-.189*(1-n),d:.349-.349*(1-n),e:.686+.314*(1-n),f:.168-.168*(1-n),g:.272-.272*(1-n),h:.534-.534*(1-n),i:.131+.869*(1-n)})},saturate:function(e){var t='<filter>  <feColorMatrix type="saturate" values="${amount}"/></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({amount:1-n})},hueRotate:function(e){var t='<filter>  <feColorMatrix type="hueRotate" values="${angle}"/></filter>';return(0,r.format)(t)({angle:e.angle||0})},invert:function(e){var t='<filter>  <feComponentTransfer>    <feFuncR type="table" tableValues="${amount} ${amount2}"/>    <feFuncG type="table" tableValues="${amount} ${amount2}"/>    <feFuncB type="table" tableValues="${amount} ${amount2}"/>  </feComponentTransfer></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({amount:n,amount2:1-n})},brightness:function(e){var t='<filter>  <feComponentTransfer>    <feFuncR type="linear" slope="${amount}"/>    <feFuncG type="linear" slope="${amount}"/>    <feFuncB type="linear" slope="${amount}"/>  </feComponentTransfer></filter>';return(0,r.format)(t)({amount:(0,r.isFinite)(e.amount)?e.amount:1})},contrast:function(e){var t='<filter>  <feComponentTransfer>    <feFuncR type="linear" slope="${amount}" intercept="${amount2}"/>    <feFuncG type="linear" slope="${amount}" intercept="${amount2}"/>    <feFuncB type="linear" slope="${amount}" intercept="${amount2}"/>  </feComponentTransfer></filter>',n=(0,r.isFinite)(e.amount)?e.amount:1;return(0,r.format)(t)({amount:n,amount2:.5-n/2})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),f=n(13),s=(r(f),n(15)),c=(r(s),n(28)),d=r(c),h=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"update",value:function(e){var n=this,r=n.cell,i=r.attrs,o=n.rotatableNode,a=void 0;o&&(a=o.attr("transform"),o.attr("transform",""));var u=[],f={};(0,l.forIn)(e||i,function(e,r){var i=n.find(r);if(i.length){f[r]=i;var o=t.specialAttributes.slice();(0,l.isObject)(e.filter)&&(o.push("filter"),n.applyFilter(i,e.filter)),(0,l.isObject)(e.fill)&&(o.push("fill"),n.applyGradient(i,"fill",e.fill)),(0,l.isObject)(e.stroke)&&(o.push("stroke"),n.applyGradient(i,"stroke",e.stroke)),(0,l.isUndefined)(e.text)||(o.push("lineHeight","textPath","annotations"),(0,l.forEach)(i,function(t){t.text(e.text+"",{lineHeight:e.lineHeight,textPath:e.textPath,annotations:e.annotations})}));var a={};(0,l.forIn)(e,function(e,t){(0,l.contains)(o,t)||(a[t]=e)}),(0,l.forEach)(i,function(e){e.attr(a)}),(0,l.isUndefined)(e.html)||(0,l.forEach)(i,function(e){}),(0,l.some)(["ref-x","ref-y","ref-dx","ref-dy","x-alignment","y-alignment","ref-width","ref-height"],function(t){return!(0,l.isUndefined)(e[t])})&&u.push(r)}});var s=r.size,c={x:0,y:0,width:s.width,height:s.height};return(0,l.forEach)(u,function(t){var r=e&&e[t],o=i[t],a=r?(0,l.merge)({},o,r):o;(0,l.forEach)(f[t],function(e){n.positionRelative(e,c,a,f)})}),o&&o.attr("transform",a||""),n}},{key:"positionRelative",value:function(e,t,n,r){var i=this,o=n.ref,a=(0,l.toFloat)(n["ref-dx"]),u=(0,l.toFloat)(n["ref-dy"]),f=n["y-alignment"],s=n["x-alignment"],c=n["ref-x"],d=(0,l.isPercentage)(c);c=(0,l.toFloat)(c,d);var h=n["ref-y"],v=(0,l.isPercentage)(h);h=(0,l.toFloat)(h,v);var p=n["ref-width"],y=(0,l.isPercentage)(p);p=(0,l.toFloat)(p,y);var g=n["ref-height"],m=(0,l.isPercentage)(g);g=(0,l.toFloat)(g,m);var b=e.findParent("pane-scalable",i.elem);if(o){var x=r&&r[o];if(x=x?x[0]:"."===o?i.vel:i.vel.findOne(o),!x)throw new Error("NodeView: reference does not exists.");t=x.bbox(!1,i.elem)}var w=e.attr("transform");w&&e.attr("transform",(0,l.clearTranslate)(w)),(0,l.isFinite)(p)&&(y||p>=0&&1>=p?e.attr("width",p*t.width):e.attr("width",Math.max(p+t.width,0))),(0,l.isFinite)(g)&&(m||g>=0&&1>=g?e.attr("height",g*t.height):e.attr("height",Math.max(g+t.height,0)));var k=0,O=0,P=void 0;if((0,l.isFinite)(a)&&(b?(P=b.scale(),k=t.x+t.width+a/P.sx):k=t.x+t.width+a),(0,l.isFinite)(u)&&(b?(P=P||b.scale(),O=t.y+t.height+u/P.sy):O=t.y+t.height+u),(0,l.isFinite)(c)&&(d||c>0&&1>c?k=t.x+t.width*c:b?(P=P||b.scale(),k=t.x+c/P.sx):k=t.x+c),(0,l.isFinite)(h)&&(d||h>0&&1>h?O=t.y+t.height*h:b?(P=P||b.scale(),O=t.y+h/P.sy):O=t.y+h),!(0,l.isUndefined)(f)||!(0,l.isUndefined)(s)){var _=e.bbox(!1,i.paper.drawPane);"middle"===f?O-=_.height/2:(0,l.isFinite)(f)&&(O+=f>-1&&1>f?_.height*f:f),"middle"===s?k-=_.width/2:(0,l.isFinite)(s)&&(k+=s>-1&&1>s?_.width*s:s)}return e.translate(k,O),i}},{key:"render",value:function(){var e=this,t=e.vel;return t.empty(),e.renderMarkup(),e.scalableNode=t.findOne(".pane-scalable"),e.rotatableNode=t.findOne(".pane-rotatable"),e.update().resize().rotate().translate()}},{key:"scale",value:function(e,t){return this.vel.scale(e,t),this}},{key:"resize",value:function(){var e=this,t=e.scalableNode;if(t){var n=t.bbox(!0),r=e.cell.size,i=r.width/(n.width||1),o=r.height/(n.height||1);return i=(0,l.toFixed)(i,2),o=(0,l.toFixed)(o,2),t.attr("transform","scale("+i+","+o+")"),e.update(),e}}},{key:"translate",value:function(){var e=this,t=e.cell.position;return e.vel.attr("transform","translate("+t.x+","+t.y+")"),e}},{key:"rotate",value:function(){var e=this,t=e.rotatableNode;if(t){var n=e.cell,r=n.rotation,i=n.size,o=i.width/2,a=i.height/2;t.attr("transform","rotate("+r+","+o+","+a+")")}return e}},{key:"getBBox",value:function(){}}],[{key:"specialAttributes",get:function(){return["text","html","style","ref","ref-x","ref-y","ref-dx","ref-dy","ref-width","ref-height","x-alignment","y-alignment","port"]}}]),t}(d["default"]);t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(32),f=r(l),s=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"isLink",get:function(){return!0}}]),t}(f["default"]);s.setDefaults({markup:'<path class="connection"/><path class="marker-source"/><path class="marker-target"/><path class="connection-wrap"/><g class="labels"/><g class="marker-vertices"/><g class="marker-arrowheads"/><g class="link-tools"/>',classNames:"pane-link",router:null,marker:null,connector:null,attrs:{".connection":{fill:"none",stroke:"#000","stroke-width":1},".marker-source":{d:"M 10 0 L 0 5 L 10 10 z"},".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),s=i(f),c=n(19),d=r(c),h=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this)),r=n,i=s.merge({},r.constructor.defaults,e);return r.data=i.data,r.attrs=i.attrs,r.visible=i.visible!==!1,r.metadata=i,n}return u(t,e),l(t,[{key:"markup",get:function(){return this.metadata.markup}},{key:"className",get:function(){var e=this.metadata.classNames;return s.isArray(e)?e.join(" "):e||""}}],[{key:"setDefaults",value:function(e){this.defaults=s.merge({},this.defaults,e)}}]),t}(d["default"]);h.defaults={markup:"",attrs:{},data:null,view:null},t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(32),f=r(l),s=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"translate",value:function(){}},{key:"resize",value:function(e,t){}},{key:"rotate",value:function(){}},{key:"getBBox",value:function(){return!1}},{key:"isNode",get:function(){return!0}}]),t}(f["default"]);s.setDefaults({classNames:"pane-node",size:{width:1,height:1,relative:!1},position:{x:0,y:0,relative:!1},rotation:{angle:0,inherited:!0}}),t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><text/></g></g>',attrs:{".":{fill:"#ffffff",stroke:"none"},text:{"font-size":18,fill:"#000000"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><rect/></g><text/></g>',attrs:{".":{fill:"#fff",stroke:"none"},rect:{fill:"#fff",stroke:"#000","stroke-width":"1",width:100,height:40},text:{fill:"#000","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><circle/></g><text/></g>',size:{width:60,height:60},attrs:{".":{fill:"#ffffff",stroke:"none"},circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><ellipse/></g><text/></g>',size:{width:60,height:40},attrs:{".":{fill:"#ffffff",stroke:"none"},ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><image/></g><text/></g>',attrs:{".":{fill:"#ffffff",stroke:"none"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><path/></g><text/></g>',size:{width:60,height:60},attrs:{".":{fill:"#ffffff",stroke:"none"},path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><polygon/></g><text/></g>',size:{width:60,height:40},attrs:{".":{fill:"#ffffff",
stroke:"none"},polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><polyline/></g><text/></g>',size:{width:60,height:40},attrs:{".":{fill:"#ffffff",stroke:"none"},polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(39),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"y-alignment":"middle"}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(33),l=r(u),f=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(l["default"]);f.setDefaults({markup:'<g class="pane-rotatable"><g class="pane-scalable"><rect/></g></g>',attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000","stroke-width":"1",width:15,height:15}}}),t["default"]=f},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e,t,n){var r=["M",e.x,e.y];return a.forEach(n,function(e){r.push(e.x,e.y)}),r.push(t.x,t.y),r.join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o);t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],i=r.radius||10,o=void 0,a=void 0,l=["M",e.x,e.y];return u.forEach(n,function(r,u){var s=n[u-1]||e,c=n[u+1]||t,d=f["default"].fromPoint(r);o=a||d.distance(s)/2,a=d.distance(c)/2;var h=f["default"].fromPoint(r).move(s,-Math.min(i,o)).smooth(),v=f["default"].fromPoint(r).move(c,-Math.min(i,a)).smooth();l.push(h.x,h.y,"S",r.x,r.y,v.x,v.y,"L")}),l.push(t.x,t.y),l.join(" ")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=i(a),l=n(15),f=r(l);t["default"]=o},function(e,t){}])});