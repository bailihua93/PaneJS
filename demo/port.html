<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ports</title>
    <link rel="stylesheet" type="text/css" href="../dist/panejs.css">
    <style>
        #container {
            width: 800px;
            height: 600px;
            border: 1px solid #DDD;
        }

        .pane-port circle {
            cursor: crosshair;
            r: 4;
            stroke-width: 6;
            stroke: transparent;
            fill: rgb(170, 170, 170);
        }
    </style>
</head>
<body>
<div id="container"></div>
<script src="../dist/panejs.js"></script>
<script>
    var container = document.getElementById('container');

    var model = new panejs.Model();
    var paper = new panejs.Paper(container, model);

    var rect1 = new panejs.shapes.basic.Rect({
        markup: '' +
        '<g class="pane-rotatable">' +
        '  <g class="pane-scalable">' +
        '    <rect/>' +
        '  </g>' +
        '  <g class="pane-port in">' +
        '    <circle></circle>' +
        '  </g>' +
        '  <g class="pane-port out">' +
        '    <circle></circle>' +
        '  </g>' +
        '  <text/>' +
        '</g>',

        size    : { width: 100, height: 40 },
        position: { x: 50, y: 20 },

        attrs: {
            text: {
                text: 'Port1'
            },

            '.pane-port.in' : {
                'ref-x': 50,
                'ref-y': 0
            },
            '.pane-port.out': {
                'ref-x': 50,
                'ref-y': 40
            }
        }
    });

    var rect2 = new panejs.shapes.basic.Rect({
        markup: '' +
        '<g class="pane-rotatable">' +
        '  <g class="pane-scalable">' +
        '    <rect/>' +
        '  </g>' +
        '  <g class="pane-port in">' +
        '    <circle></circle>' +
        '  </g>' +
        '  <g class="pane-port out">' +
        '    <circle></circle>' +
        '  </g>' +
        '  <text/>' +
        '</g>',

        size    : { width: 100, height: 40 },
        position: { x: 150, y: 220 },

        attrs: {
            text: {
                text: 'Port2'
            },

            '.pane-port.in' : {
                'ref-x': 50,
                'ref-y': 0
            },
            '.pane-port.out': {
                'ref-x': 50,
                'ref-y': 30
            }
        }
    });

    model.addCell(rect1);
    model.addCell(rect2);

    // 添加handlers
    paper.registerHandlers([
        new panejs.SelectionHandler(paper),
        new panejs.ConnectionHandler(paper)
    ]);
</script>
</body>
</html>
